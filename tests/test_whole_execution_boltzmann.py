# -*- coding: utf-8 -*-

import unittest
import interbank
import interbank_lenderchange


class WholeExecution(unittest.TestCase):
    N = 50
    T = 50
    T_LONG = 1000

    maxDiff = None

    ALGORITHM = interbank_lenderchange.Boltzmann
    P = 0.5

    SEED = 39393

    CONFIG = 'C_i0=30 D_i0=135 E_i0=15 L_i0=120 N=50 T=50 alfa=0.1 allow_replacement_of_bankrupted=True beta=5 chi=0.0015 mu=0.7 omega=0.55 phi=0.25 psi=0.0 r_i0=0.02 reintroduce_with_median=False reserves=0.02 rho=0.3 xi=0.9'

    RESULTS_TO_COMPARE = '{"bad_debt":{"0":44.3291870067,"1":36.4000391336,"2":33.2094790748,"3":25.2356864611,"4":14.1205949136,"5":18.517479525,"6":29.4492396967,"7":21.1346298523,"8":9.9160327244,"9":39.4119556928,"10":41.8892045051,"11":13.6665505926,"12":7.4634673988,"13":53.2912660434,"14":23.2040466845,"15":11.3208244104,"16":32.9853665415,"17":24.0063097143,"18":0.0,"19":13.0532278458,"20":64.7022867626,"21":8.4145477967,"22":13.6289236608,"23":63.5019468051,"24":29.970681184,"25":61.536722957,"26":33.0073508032,"27":9.0132418518,"28":22.114300186,"29":56.3420521887,"30":8.3337886728,"31":35.7211398211,"32":42.4781592277,"33":22.8091237349,"34":22.1289536916,"35":0.0,"36":57.9376577514,"37":2.6875912056,"38":11.2238739469,"39":22.5745414711,"40":0.0,"41":13.9553559317,"42":29.1256242766,"43":27.3631475462,"44":15.0756668567,"45":0.0,"46":0.0,"47":8.7078040366,"48":2.2961037548,"49":53.7250049939},"liquidity":{"0":1275.0633156813,"1":1284.501365501,"2":1553.8997720786,"3":1542.9534261914,"4":1863.7873286119,"5":1682.5524677392,"6":1734.0099004535,"7":1659.1538405187,"8":1842.335197279,"9":1684.5880436228,"10":1849.9497859576,"11":2055.1836788619,"12":2559.4710659865,"13":2324.3444741422,"14":2354.9774559437,"15":2122.172273253,"16":1922.378840053,"17":1952.2650031544,"18":2295.3636876047,"19":2077.472536187,"20":2083.239876475,"21":2054.2567922504,"22":1987.8240842486,"23":1927.4843289561,"24":1777.1794224092,"25":1833.5876334859,"26":1924.0789583363,"27":1695.3590460964,"28":1676.9091597673,"29":1818.6631958417,"30":2306.2299825553,"31":2014.1072263013,"32":2243.0694937441,"33":2257.35063686,"34":2042.1257945081,"35":1870.8549003135,"36":1893.4568910979,"37":2444.0381333406,"38":2524.3915765242,"39":2654.5110048328,"40":2549.4732710688,"41":2302.2824672724,"42":2140.2706693735,"43":2049.5874434478,"44":2419.4592344633,"45":2447.6274115763,"46":2216.1002406055,"47":2131.6761141131,"48":1750.6478765711,"49":1651.5847344243},"interest_rate":{"0":0.02,"1":0.02,"2":0.02,"3":0.02,"4":0.02,"5":0.02,"6":0.02,"7":0.02,"8":0.02,"9":0.02,"10":0.02,"11":0.02,"12":0.02,"13":0.02,"14":0.02,"15":0.02,"16":0.02,"17":0.02,"18":0.02,"19":0.02,"20":0.02,"21":0.02,"22":0.02,"23":0.02,"24":0.02,"25":0.02,"26":0.02,"27":0.02,"28":0.02,"29":0.02,"30":0.02,"31":0.02,"32":0.02,"33":0.02,"34":0.02,"35":0.02,"36":0.02,"37":0.02,"38":0.0,"39":0.02,"40":0.02,"41":0.02,"42":0.02,"43":0.02,"44":0.02,"45":0.0,"46":0.0,"47":0.02,"48":0.02,"49":0.02},"asset_i":{"0":0.0,"1":176.1345399825,"2":168.597913169,"3":185.9272282416,"4":169.0876103517,"5":210.1150185816,"6":157.7771465004,"7":209.6130061455,"8":266.3946386171,"9":204.4877408907,"10":150.9299933239,"11":160.8385882263,"12":280.5440308837,"13":260.3066890078,"14":223.9506568986,"15":271.5384316346,"16":227.9455549208,"17":236.9044183965,"18":167.5601568896,"19":189.6323394101,"20":257.505970418,"21":210.3868816683,"22":182.5062777772,"23":232.4378285153,"24":163.3912708442,"25":213.7949280089,"26":213.940399054,"27":144.5113082282,"28":199.1294004915,"29":165.0208047132,"30":165.3333016777,"31":188.8918523257,"32":159.8069264734,"33":186.8289289946,"34":217.7779799463,"35":150.0,"36":195.0244823445,"37":175.4101313008,"38":null,"39":276.9429751785,"40":217.6519961139,"41":310.9500586925,"42":194.9077474487,"43":156.5646473167,"44":207.7737714283,"45":null,"46":null,"47":217.2105166616,"48":175.6290356048,"49":179.9697648237},"asset_j":{"0":0.0,"1":154.4802213968,"2":150.8754247494,"3":158.1292827148,"4":162.2548163174,"5":167.3395771546,"6":159.9260311834,"7":159.0950800173,"8":162.9331600479,"9":163.0424319418,"10":160.7734864257,"11":164.655465857,"12":166.841801809,"13":176.6448752374,"14":173.818192542,"15":174.162784248,"16":164.4895733807,"17":161.6582864194,"18":167.6224570542,"19":165.0108013623,"20":167.297987349,"21":170.2798587578,"22":165.1632389883,"23":168.431036186,"24":166.7220929906,"25":160.0934087053,"26":162.6065456625,"27":163.4367903526,"28":158.8181468352,"29":162.2624645785,"30":160.4464146126,"31":171.3772119185,"32":166.0278492741,"33":166.8162899302,"34":166.0249880025,"35":165.4977460376,"36":164.1397891039,"37":162.8583289606,"38":172.2812134584,"39":177.0227855284,"40":174.8826618494,"41":178.3327340579,"42":168.2146365056,"43":166.0200110837,"44":167.813023514,"45":169.5183740446,"46":177.4282591295,"47":170.8035483296,"48":164.8163330763,"49":157.7389227709},"equity":{"0":710.8686896683,"1":658.28709389,"2":640.0705057121,"3":590.2173273023,"4":565.48377271,"5":596.3669562431,"6":583.1262284516,"7":561.7544017606,"8":604.2410478354,"9":614.4148353303,"10":559.113760292,"11":616.4430595039,"12":603.7297989399,"13":608.9952656878,"14":616.0824405184,"15":607.3753670554,"16":615.6528998066,"17":541.0585266594,"18":565.58614493,"19":603.3039945343,"20":622.206064189,"21":621.9794422183,"22":631.065205447,"23":667.5783821195,"24":667.284029984,"25":588.6982953358,"26":636.3913430532,"27":594.6598615906,"28":586.2808067245,"29":645.7290615888,"30":624.6484946055,"31":641.7580628258,"32":604.8810779314,"33":552.8028752512,"34":551.6410875982,"35":557.2354282934,"36":578.5666572087,"37":612.9763082752,"38":593.4091745085,"39":653.4699849953,"40":612.936970265,"41":600.3436848942,"42":600.5409688974,"43":605.080312896,"44":633.6361789593,"45":581.1072458211,"46":621.1061048676,"47":650.0579187834,"48":587.1670113792,"49":601.2132053301},"equity_borrowers":{"0":90.0,"1":88.1752526625,"2":75.0,"3":44.9286590286,"4":45.0,"5":45.0,"6":45.2229767933,"7":47.6825868658,"8":41.0063597076,"9":36.0257727408,"10":30.0,"11":45.0,"12":28.0403952328,"13":38.5866709792,"14":44.348547669,"15":48.9026578715,"16":64.581960237,"17":26.8406694797,"18":30.0,"19":59.9228789895,"20":75.0169882652,"21":36.896048221,"22":6.9012592195,"23":75.0774417127,"24":60.0,"25":86.4322020341,"26":29.6920573586,"27":18.5264611378,"28":20.9867581482,"29":74.8845805917,"30":60.0,"31":59.9063638944,"32":59.9987012397,"33":42.7564123937,"34":34.7538835474,"35":15.0,"36":59.0677885019,"37":73.7054009529,"38":0.0,"39":42.7224847947,"40":30.0,"41":34.0011572831,"42":37.8968981818,"43":44.6225547975,"44":45.0,"45":0.0,"46":0.0,"47":75.0,"48":44.8625043038,"49":44.918465636},"bankruptcies":{"0":12,"1":9,"2":12,"3":16,"4":14,"5":9,"6":9,"7":15,"8":8,"9":10,"10":9,"11":7,"12":5,"13":8,"14":9,"15":5,"16":8,"17":11,"18":8,"19":12,"20":10,"21":8,"22":10,"23":9,"24":7,"25":8,"26":6,"27":12,"28":12,"29":8,"30":7,"31":8,"32":6,"33":6,"34":4,"35":10,"36":7,"37":7,"38":7,"39":4,"40":9,"41":6,"42":6,"43":8,"44":5,"45":11,"46":8,"47":10,"48":10,"49":12},"potential_credit_channels":{"0":50,"1":50,"2":50,"3":50,"4":50,"5":50,"6":50,"7":50,"8":50,"9":50,"10":50,"11":50,"12":50,"13":50,"14":50,"15":50,"16":50,"17":50,"18":50,"19":50,"20":50,"21":50,"22":50,"23":50,"24":50,"25":50,"26":50,"27":50,"28":50,"29":50,"30":50,"31":50,"32":50,"33":50,"34":50,"35":50,"36":50,"37":50,"38":50,"39":50,"40":50,"41":50,"42":50,"43":50,"44":50,"45":50,"46":50,"47":50,"48":50,"49":50},"prob_change_lender":{"0":0.5077535685,"1":0.4556166804,"2":0.4850708545,"3":0.4920474241,"4":0.3749387406,"5":0.4344439681,"6":0.4165007501,"7":0.4215609869,"8":0.4019620806,"9":0.4058363304,"10":0.4162148063,"11":0.4190878477,"12":0.4443014013,"13":0.3962368223,"14":0.3614072414,"15":0.434047733,"16":0.4440512405,"17":0.4071120682,"18":0.4095890181,"19":0.4580608253,"20":0.4351906665,"21":0.4473801151,"22":0.4371393358,"23":0.4467126542,"24":0.4364101422,"25":0.4226036147,"26":0.4358533208,"27":0.4618831589,"28":0.4493907116,"29":0.4182350386,"30":0.4106188837,"31":0.4321838492,"32":0.4476461046,"33":0.4362891516,"34":0.4623908106,"35":0.4392708182,"36":0.4339714727,"37":0.4275918309,"38":0.3964186187,"39":0.3767578607,"40":0.3733962096,"41":0.4217954045,"42":0.4055832723,"43":0.4208644605,"44":0.452349103,"45":0.4399692595,"46":0.420745887,"47":0.4551993907,"48":0.4419753089,"49":0.4053158445},"best_lender":{"0":27,"1":18,"2":36,"3":24,"4":2,"5":1,"6":24,"7":24,"8":24,"9":24,"10":20,"11":11,"12":11,"13":11,"14":11,"15":11,"16":3,"17":3,"18":3,"19":3,"20":3,"21":3,"22":3,"23":3,"24":3,"25":32,"26":42,"27":14,"28":4,"29":4,"30":4,"31":4,"32":4,"33":37,"34":4,"35":10,"36":10,"37":4,"38":4,"39":4,"40":4,"41":4,"42":4,"43":4,"44":17,"45":17,"46":17,"47":17,"48":7,"49":5},"policy":{"0":1.0,"1":1.0,"2":1.0,"3":1.0,"4":1.0,"5":1.0,"6":1.0,"7":1.0,"8":1.0,"9":1.0,"10":1.0,"11":1.0,"12":1.0,"13":1.0,"14":1.0,"15":1.0,"16":1.0,"17":1.0,"18":1.0,"19":1.0,"20":1.0,"21":1.0,"22":1.0,"23":1.0,"24":1.0,"25":1.0,"26":1.0,"27":1.0,"28":1.0,"29":1.0,"30":1.0,"31":1.0,"32":1.0,"33":1.0,"34":1.0,"35":1.0,"36":1.0,"37":1.0,"38":1.0,"39":1.0,"40":1.0,"41":1.0,"42":1.0,"43":1.0,"44":1.0,"45":1.0,"46":1.0,"47":1.0,"48":1.0,"49":1.0},"fitness":{"0":0.0,"1":0.3565613608,"2":0.341197233,"3":0.3520428659,"4":0.4231439597,"5":0.3843739416,"6":0.385973657,"7":0.3340511387,"8":0.212225474,"9":0.1541172159,"10":0.1902681397,"11":0.2317619738,"12":0.2006029821,"13":0.23149153,"14":0.2794047335,"15":0.2488953142,"16":0.2076450988,"17":0.2444437809,"18":0.1842890383,"19":0.1306667046,"20":0.0983406744,"21":0.1405158003,"22":0.1176195588,"23":0.1266528193,"24":0.2717189267,"25":0.1842408039,"26":0.2208108311,"27":0.2613256285,"28":0.2935864226,"29":0.1770932864,"30":0.2516808435,"31":0.221733878,"32":0.2489424003,"33":0.3341942769,"34":0.2229230282,"35":0.3030946754,"36":0.2903224728,"37":0.3590446953,"38":0.3938042387,"39":0.2459066669,"40":0.2389131769,"41":0.196367301,"42":0.2499973068,"43":0.2327583463,"44":0.3007109048,"45":0.3059028332,"46":0.2254211202,"47":0.2524126449,"48":0.2647407449,"49":0.3513831612},"best_lender_clients":{"0":5,"1":3,"2":4,"3":5,"4":6,"5":4,"6":6,"7":7,"8":6,"9":8,"10":6,"11":5,"12":5,"13":8,"14":8,"15":6,"16":6,"17":5,"18":6,"19":6,"20":9,"21":6,"22":8,"23":5,"24":4,"25":6,"26":5,"27":4,"28":5,"29":7,"30":5,"31":4,"32":5,"33":6,"34":5,"35":6,"36":5,"37":4,"38":6,"39":7,"40":6,"41":7,"42":5,"43":4,"44":4,"45":5,"46":5,"47":5,"48":4,"49":5},"rationing":{"0":16.7705615707,"1":28.5225212622,"2":52.1706827834,"3":66.9287382779,"4":50.0531753911,"5":42.5477264926,"6":19.2701621482,"7":62.9499079586,"8":45.0303841055,"9":15.2706887115,"10":76.8652825041,"11":24.1385029056,"12":21.63134695,"13":14.3124736312,"14":35.1176353575,"15":14.4470995378,"16":14.2910621905,"17":37.2895507471,"18":73.9334760423,"19":39.7505322173,"20":44.3219307987,"21":41.3945613174,"22":45.9740526651,"23":21.6975380809,"24":0.8845932204,"25":11.0748737664,"26":0.0,"27":38.3810811821,"28":61.5010958206,"29":27.3357854132,"30":13.2797090972,"31":0.0,"32":11.6823439366,"33":18.0934204823,"34":0.0,"35":62.8623559081,"36":32.4224064453,"37":36.0990567278,"38":76.7342342093,"39":0.0,"40":9.1039981924,"41":41.6260558571,"42":20.053019606,"43":44.8903884087,"44":24.8622601883,"45":75.6460900176,"46":48.5738639416,"47":19.4332029275,"48":83.3608902587,"49":56.1565050542},"leverage":{"0":0.0497237533,"1":0.0448833994,"2":0.0064961886,"3":0.0251860038,"4":0.0,"5":0.0,"6":0.3485473012,"7":0.0251576909,"8":0.0,"9":0.0136831292,"10":0.0,"11":0.0,"12":0.0,"13":0.0,"14":0.026779459,"15":0.0335431834,"16":0.0100842664,"17":0.0,"18":0.0116850016,"19":0.0,"20":0.0,"21":0.0057364232,"22":0.020190998,"23":0.0287204283,"24":0.147940332,"25":0.0,"26":0.0280172152,"27":0.0133529509,"28":0.0086283912,"29":0.0142823904,"30":0.0,"31":0.0241278956,"32":0.0,"33":0.0,"34":0.0,"35":0.0,"36":0.13950197,"37":0.034612542,"38":0.0,"39":0.0299653313,"40":0.0,"41":0.0234839872,"42":0.0012156998,"43":0.0,"44":0.0392927473,"45":0.0,"46":0.0,"47":0.0237904419,"48":0.0142581806,"49":0.0},"systemic_leverage":{"0":0.0437569029,"1":0.0377020555,"2":0.0053268747,"3":0.0221636833,"4":0.0,"5":0.0,"6":0.3136925711,"7":0.0211324604,"8":0.0,"9":0.0123148163,"10":0.0,"11":0.0,"12":0.0,"13":0.0,"14":0.0235659239,"15":0.0301888651,"16":0.0088741545,"17":0.0,"18":0.0102828014,"19":0.0,"20":0.0,"21":0.0051627808,"22":0.0181718982,"23":0.0246995683,"24":0.1361051055,"25":0.0,"26":0.0268965266,"27":0.0120176558,"28":0.0075929843,"29":0.0122828557,"30":0.0,"31":0.022197664,"32":0.0,"33":0.0,"34":0.0,"35":0.0,"36":0.1199716942,"37":0.0297667861,"38":0.0,"39":0.0281674114,"40":0.0,"41":0.0206659087,"42":0.0010698159,"43":0.0,"44":0.0353634725,"45":0.0,"46":0.0,"47":0.0209355889,"48":0.0125471989,"49":0.0},"num_of_rationed":{"0":6,"1":3,"2":4,"3":6,"4":6,"5":4,"6":1,"7":8,"8":3,"9":4,"10":6,"11":2,"12":1,"13":3,"14":5,"15":2,"16":2,"17":5,"18":6,"19":5,"20":4,"21":4,"22":5,"23":3,"24":1,"25":1,"26":0,"27":6,"28":6,"29":3,"30":3,"31":0,"32":2,"33":2,"34":0,"35":3,"36":3,"37":3,"38":5,"39":0,"40":3,"41":4,"42":3,"43":3,"44":2,"45":5,"46":3,"47":2,"48":7,"49":4},"loans":{"0":8.8658374013,"1":9.5016261923,"2":7.355305529,"3":8.521242702,"4":5.9016480658,"5":8.4675097337,"6":10.809604912,"7":6.4786518128,"8":12.8920271174,"9":19.7059778464,"10":20.9446022526,"11":5.1987666979,"12":3.8482877856,"13":18.9607778256,"14":9.3437263112,"15":8.4905830665,"16":13.2136607951,"17":8.9474010714,"18":2.3527318932,"19":8.1669841759,"20":22.2571871949,"21":5.3525944971,"22":13.6289236608,"23":12.700389361,"24":11.6074684873,"25":21.2236688705,"26":16.5036754016,"27":10.5578659785,"28":11.057150093,"29":17.5082161119,"30":3.2701329914,"31":9.8761779878,"32":11.8635153155,"33":10.7062426328,"34":10.6677199229,"35":3.3733845528,"36":14.9826069346,"37":8.4454387771,"38":null,"39":16.752186744,"40":8.5510956165,"41":16.4640969418,"42":10.0970033246,"43":18.0038228592,"44":8.7580403103,"45":null,"46":null,"47":4.45977854,"48":6.5940029348,"49":17.5879214152},"c":{"0":151.0436387141,"1":147.6382035713,"2":154.5807775154,"3":158.537685672,"4":163.4492478594,"5":156.2472567926,"6":155.507454521,"7":159.1177851913,"8":159.3389898547,"9":157.030233403,"10":160.9041852236,"11":162.6838897134,"12":172.40684285,"13":169.6200486003,"14":169.8190623993,"15":160.5775924081,"16":157.6544571557,"17":163.736167436,"18":161.1123011379,"19":163.2644160412,"20":166.1499647737,"21":161.1549554628,"22":164.5603768027,"23":163.011098744,"24":156.2696012867,"25":158.843775314,"26":159.5152158482,"27":155.1429967448,"28":158.5022710334,"29":156.8321623303,"30":167.2318626985,"31":162.2163745751,"32":162.4630227273,"33":162.0616538131,"34":161.5781943909,"35":160.3339370738,"36":158.8923670429,"37":162.0841369346,"38":172.8091183508,"39":170.5185115111,"40":173.8563796195,"41":164.2189242572,"42":161.976166611,"43":163.8473783686,"44":165.4486899862,"45":173.136460696,"46":166.8628861459,"47":160.332546907,"48":154.1740514175,"49":155.9525336087},"reserves":{"0":107.2953855568,"1":109.0085610707,"2":113.8800401434,"3":102.4636435647,"4":115.6838369381,"5":118.9004824271,"6":119.050907929,"7":106.8809557854,"8":125.8526483749,"9":115.3668654416,"10":119.614946483,"11":132.3506338046,"12":147.0825741765,"13":132.3857556129,"14":133.8511991957,"15":135.4868716971,"16":123.6323992731,"17":115.3755890422,"18":132.8878578511,"19":117.8666368914,"20":120.8075127928,"21":130.2001321666,"22":122.8902833643,"23":120.9331634358,"24":121.5324294277,"25":122.0520568848,"26":126.6595358306,"27":111.4914830534,"28":109.7708410554,"29":119.4242234344,"30":135.7320943218,"31":125.2054859661,"32":134.1647226118,"33":133.7840528522,"34":132.959154038,"35":120.7475320536,"36":122.2180718208,"37":140.3764397748,"38":139.8491721769,"39":151.3154901434,"40":138.6066355977,"41":137.3974358669,"42":132.1282017192,"43":125.8274839529,"44":143.7888105382,"45":130.0243125243,"46":131.4711493083,"47":125.8141477132,"48":118.2013307064,"49":107.3087801154},"deposits":{"0":5364.7692778385,"1":5450.428053535,"2":5694.0020071694,"3":5123.1821782327,"4":5784.1918469025,"5":5945.0241213533,"6":5952.5453964511,"7":5344.0477892683,"8":6292.6324187443,"9":5768.3432720809,"10":5980.7473241515,"11":6617.5316902303,"12":7354.1287088272,"13":6619.287780646,"14":6692.5599597852,"15":6774.3435848555,"16":6181.6199636528,"17":5768.7794521078,"18":6644.3928925551,"19":5893.3318445676,"20":6040.3756396425,"21":6510.0066083279,"22":6144.5141682159,"23":6046.6581717876,"24":6076.6214713826,"25":6102.6028442378,"26":6332.97679153,"27":5574.5741526719,"28":5488.5420527681,"29":5971.211171719,"30":6786.6047160921,"31":6260.2742983066,"32":6708.2361305876,"33":6689.2026426096,"34":6647.9577019001,"35":6037.376602681,"36":6110.9035910384,"37":7018.8219887391,"38":6992.4586088426,"39":7565.7745071724,"40":6930.3317798828,"41":6869.8717933434,"42":6606.410085958,"43":6291.3741976428,"44":7189.4405269124,"45":6501.2156262162,"46":6573.5574654133,"47":6290.7073856594,"48":5910.0665353216,"49":5365.4390057675},"psi":{"0":0.0,"1":0.0,"2":0.0,"3":0.0,"4":0.0,"5":0.0,"6":0.0,"7":0.0,"8":0.0,"9":0.0,"10":0.0,"11":0.0,"12":0.0,"13":0.0,"14":0.0,"15":0.0,"16":0.0,"17":0.0,"18":0.0,"19":0.0,"20":0.0,"21":0.0,"22":0.0,"23":0.0,"24":0.0,"25":0.0,"26":0.0,"27":0.0,"28":0.0,"29":0.0,"30":0.0,"31":0.0,"32":0.0,"33":0.0,"34":0.0,"35":0.0,"36":0.0,"37":0.0,"38":0.0,"39":0.0,"40":0.0,"41":0.0,"42":0.0,"43":0.0,"44":0.0,"45":0.0,"46":0.0,"47":0.0,"48":0.0,"49":0.0},"psi_lenders":{"0":0.0,"1":0.0,"2":0.0,"3":0.0,"4":0.0,"5":0.0,"6":0.0,"7":0.0,"8":0.0,"9":0.0,"10":0.0,"11":0.0,"12":0.0,"13":0.0,"14":0.0,"15":0.0,"16":0.0,"17":0.0,"18":0.0,"19":0.0,"20":0.0,"21":0.0,"22":0.0,"23":0.0,"24":0.0,"25":0.0,"26":0.0,"27":0.0,"28":0.0,"29":0.0,"30":0.0,"31":0.0,"32":0.0,"33":0.0,"34":0.0,"35":0.0,"36":0.0,"37":0.0,"38":0.0,"39":0.0,"40":0.0,"41":0.0,"42":0.0,"43":0.0,"44":0.0,"45":0.0,"46":0.0,"47":0.0,"48":0.0,"49":0.0},"potential_lenders":{"0":28,"1":16,"2":27,"3":21,"4":21,"5":21,"6":27,"7":15,"8":20,"9":19,"10":28,"11":25,"12":26,"13":23,"14":21,"15":24,"16":21,"17":23,"18":22,"19":19,"20":24,"21":19,"22":18,"23":25,"24":24,"25":25,"26":30,"27":20,"28":22,"29":23,"30":26,"31":27,"32":25,"33":22,"34":30,"35":22,"36":25,"37":24,"38":23,"39":27,"40":25,"41":24,"42":21,"43":25,"44":25,"45":21,"46":19,"47":21,"48":19,"49":22},"active_lenders":{"0":5,"1":5,"2":5,"3":3,"4":3,"5":3,"6":4,"7":4,"8":2,"9":2,"10":2,"11":3,"12":2,"13":3,"14":3,"15":3,"16":3,"17":3,"18":2,"19":3,"20":3,"21":3,"22":1,"23":5,"24":4,"25":4,"26":2,"27":2,"28":2,"29":5,"30":4,"31":4,"32":4,"33":3,"34":3,"35":1,"36":4,"37":5,"38":0,"39":2,"40":2,"41":3,"42":4,"43":1,"44":3,"45":0,"46":0,"47":5,"48":3,"49":3},"active_borrowers":{"0":6,"1":6,"2":5,"3":3,"4":3,"5":3,"6":4,"7":4,"8":3,"9":3,"10":2,"11":3,"12":2,"13":4,"14":4,"15":4,"16":5,"17":3,"18":2,"19":4,"20":5,"21":3,"22":1,"23":5,"24":4,"25":7,"26":2,"27":2,"28":2,"29":5,"30":4,"31":4,"32":4,"33":3,"34":3,"35":1,"36":5,"37":5,"38":0,"39":3,"40":2,"41":3,"42":4,"43":3,"44":3,"45":0,"46":0,"47":5,"48":3,"49":3},"prob_bankruptcy":{"0":0.0,"1":0.094170832,"2":0.0150423588,"3":0.002167592,"4":0.0069192671,"5":0.1406859149,"6":0.1879452124,"7":0.0126669203,"8":0.0180654998,"9":0.0110912665,"10":0.0110912665,"11":0.0119394203,"12":0.0758406239,"13":0.0877424534,"14":0.1939955756,"15":0.1986602333,"16":0.1198443283,"17":0.2215130762,"18":0.0042646969,"19":0.2232430119,"20":0.0005518066,"21":0.0085158092,"22":0.0051362634,"23":0.0050030438,"24":0.4737906268,"25":0.0176471948,"26":0.0132570434,"27":0.0080683267,"28":0.0,"29":0.1510380597,"30":0.0136968669,"31":0.0016919898,"32":0.0082385114,"33":0.2733631282,"34":0.0048179861,"35":0.004927249,"36":0.0031799827,"37":0.1327359537,"38":null,"39":0.1706772619,"40":0.0256718391,"41":0.5900834296,"42":0.1353166249,"43":0.0124490273,"44":0.0196154787,"45":null,"46":null,"47":0.0108831542,"48":0.0177257785,"49":0.0104241282},"num_banks":{"0":50,"1":50,"2":50,"3":50,"4":50,"5":50,"6":50,"7":50,"8":50,"9":50,"10":50,"11":50,"12":50,"13":50,"14":50,"15":50,"16":50,"17":50,"18":50,"19":50,"20":50,"21":50,"22":50,"23":50,"24":50,"25":50,"26":50,"27":50,"28":50,"29":50,"30":50,"31":50,"32":50,"33":50,"34":50,"35":50,"36":50,"37":50,"38":50,"39":50,"40":50,"41":50,"42":50,"43":50,"44":50,"45":50,"46":50,"47":50,"48":50,"49":50},"bankruptcy_rationed":{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0}}'

    def setUp(self):
        model = interbank.Model()
        model.log.define_log('ERROR')
        model.config.lender_change = self.ALGORITHM()
        model.configure_json(self.CONFIG)
        model.configure(N=self.N, T=self.T)
        model.configure(normalize_interest_rate_max=0)
        model.initialize(seed=self.SEED, output_directory='tests',
                         export_datafile='test_whole_execution_boltzmann')
        model.simulate_full()
        self.generated_now_values = model.finish()

    def test_values_after_execution(self):
        self.assertEqual(self.generated_now_values.to_json(), self.RESULTS_TO_COMPARE)


if __name__ == '__main__':
    unittest.main()
