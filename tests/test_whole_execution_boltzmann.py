# -*- coding: utf-8 -*-

import unittest
import interbank
import interbank_lenderchange


class WholeExecution(unittest.TestCase):
    N = 50
    T = 50
    T_LONG = 1000

    maxDiff = None

    ALGORITHM = interbank_lenderchange.Boltzmann
    P = 0.5

    SEED = 39393

    RESULTS_TO_COMPARE = '{"bad_debt":{"0":41.60093128,"1":25.2152351163,"2":13.4828209506,"3":20.3835259937,"4":0.0,"5":43.8609602463,"6":25.0271541367,"7":20.900671246,"8":0.0,"9":23.5915475927,"10":9.7991274764,"11":56.900509809,"12":14.2143163775,"13":11.9406496388,"14":0.0,"15":5.9433219716,"16":0.0,"17":0.0,"18":9.328249364,"19":0.0,"20":3.424960935,"21":7.3020654834,"22":4.162896265,"23":0.0,"24":39.9335263921,"25":17.6219420527,"26":16.4032664192,"27":43.3870741995,"28":20.2912567126,"29":11.0642932025,"30":14.6427911619,"31":7.8371997834,"32":10.7356322311,"33":16.9690628843,"34":40.2318205355,"35":27.0979533273,"36":10.2178720142,"37":0.0,"38":44.4578167284,"39":40.9514282846,"40":2.7913000093,"41":53.1544789465,"42":3.7717682396,"43":0.0,"44":20.8791682568,"45":27.2490767481,"46":10.4927518558,"47":41.8958716725,"48":10.3790592158,"49":38.9552741747},"liquidity":{"0":1817.5688848976,"1":2258.0352578829,"2":2549.535518441,"3":2805.1623854837,"4":2986.1020255126,"5":3012.587411839,"6":3518.6133283869,"7":4300.7154954047,"8":3800.8146304161,"9":3724.1611076077,"10":3437.2204065634,"11":3517.9027137212,"12":3924.8212526531,"13":3996.9094486949,"14":4407.1382720884,"15":4550.3860342175,"16":4781.394494013,"17":4950.8883028396,"18":5230.5977256209,"19":4596.2890165245,"20":4832.9099328766,"21":4523.997446722,"22":4474.2998411158,"23":5188.5519594302,"24":5380.416600065,"25":4982.9571560458,"26":5689.3996484233,"27":6034.7016878007,"28":6129.0609877799,"29":5608.6304017921,"30":6157.3168793448,"31":6885.7349454898,"32":6664.7311256896,"33":7104.281940175,"34":6026.3063206109,"35":5729.8725609219,"36":6423.0582492762,"37":6183.6774340771,"38":6612.8534427342,"39":6142.301841304,"40":6510.0769067353,"41":6025.5254404486,"42":5046.8261525637,"43":5019.144430339,"44":5635.3262654059,"45":5889.163823512,"46":6251.340524619,"47":6462.2231057824,"48":6945.9467000455,"49":6186.4759737624},"interest_rate":{"0":0.02,"1":0.1046007208,"2":82.8722366796,"3":79.6724220603,"4":0.02,"5":12.254729962,"6":0.8564387382,"7":171.0289511774,"8":0.0,"9":100.3523262056,"10":0.1387579513,"11":60.032904074,"12":37.0954753395,"13":722.3115752631,"14":0.0,"15":38.2081928933,"16":0.0,"17":0.0,"18":39.1325783882,"19":0.0,"20":12.6024261529,"21":25.6946040208,"22":29.8385826628,"23":0.0,"24":211.4768210956,"25":30.1995677367,"26":25.3483330799,"27":170.0619048025,"28":2.8892345761,"29":23.7209435476,"30":3.277404934,"31":117.67265032,"32":117.7092675309,"33":121.1929877079,"34":149.1949362232,"35":111.7743863072,"36":105.7198721114,"37":0.0,"38":109.1263563745,"39":153.6062545426,"40":106.5447062412,"41":3258.1309296129,"42":138.7455720671,"43":0.0,"44":190.4502073858,"45":139.9961204091,"46":320.7539968174,"47":400.3693819815,"48":106.9505441065,"49":126.2369395456},"asset_i":{"0":0.0,"1":2.3092221582,"2":2.4650440455,"3":2.4044909682,"4":2.4969700577,"5":2.682121019,"6":2.7794610515,"7":2.9557416999,"8":2.8921274307,"9":2.9590523533,"10":2.9145146769,"11":2.6710862567,"12":2.629959104,"13":3.0373920081,"14":3.0772529837,"15":2.9931709525,"16":2.9263397295,"17":3.023962636,"18":3.5482863127,"19":2.8379024176,"20":3.2527759376,"21":2.8426564622,"22":3.2041832411,"23":3.18614353,"24":3.4676658823,"25":3.4990982715,"26":3.5699478108,"27":3.4398710811,"28":3.4588986323,"29":3.9027737224,"30":3.6034191924,"31":3.7439677696,"32":4.5146646271,"33":4.3645931892,"34":3.4284782941,"35":4.6384941234,"36":4.182257404,"37":3.536855673,"38":3.5528455795,"39":3.4754598138,"40":3.5059758259,"41":3.2136099606,"42":3.7851227312,"43":3.0851600552,"44":3.270238181,"45":3.410078656,"46":3.6293484183,"47":3.8733072435,"48":3.782849215,"49":3.966131669},"asset_j":{"0":0.0,"1":3.9906276477,"2":4.3152708691,"3":4.4227718416,"4":4.6009106204,"5":4.6462499369,"6":4.6804336222,"7":5.0069614291,"8":5.2914535864,"9":5.127138684,"10":5.0663020623,"11":4.8788954575,"12":5.1476125218,"13":5.4466721977,"14":5.4875159499,"15":5.6875807195,"16":5.7377351939,"17":5.8544673302,"18":5.9600940239,"19":6.0018895748,"20":5.6942472861,"21":5.7607996476,"22":5.6905749534,"23":5.6553143058,"24":6.0242334027,"25":6.1217276938,"26":5.9267184312,"27":6.2729654074,"28":6.2363003085,"29":6.2954937124,"30":6.0244660675,"31":6.7116220356,"32":7.180180363,"33":7.0640459714,"34":7.2756572802,"35":6.7688516811,"36":6.5873502023,"37":6.9161486069,"38":6.7872137918,"39":7.0015307075,"40":6.7670946178,"41":6.9379022214,"42":6.7396213305,"43":6.2182104522,"44":6.2008868065,"45":6.5110147781,"46":6.6367112998,"47":6.8365521473,"48":6.9345734493,"49":7.1972845233},"equity":{"0":669.0878392052,"1":643.9324966843,"2":599.8373073733,"3":621.2676805414,"4":600.0056825297,"5":577.7609406224,"6":570.3807970017,"7":582.3407628888,"8":570.6194168261,"9":598.7398718853,"10":594.4064332941,"11":633.3137143078,"12":645.3471265186,"13":636.13938524,"14":641.5712456992,"15":671.0856805942,"16":647.5858798158,"17":638.9551384025,"18":617.8454919383,"19":611.1746064381,"20":597.8961998994,"21":610.881378986,"22":609.0188252735,"23":610.1484881832,"24":622.0556541271,"25":607.2000022778,"26":615.1778382861,"27":630.2254355515,"28":641.5135803132,"29":625.249295071,"30":642.7971050148,"31":644.5332368255,"32":615.0635806803,"33":630.9651580254,"34":637.3790952007,"35":649.3509063265,"36":628.966733328,"37":598.1128783908,"38":599.9818591808,"39":581.4169044442,"40":580.1462069535,"41":590.8290038374,"42":599.3451314741,"43":570.6272838527,"44":565.683570254,"45":577.9337118055,"46":582.6075337834,"47":601.9920144635,"48":619.9901095855,"49":652.6524685239},"equity_borrowers":{"0":0.0,"1":0.0,"2":0.0,"3":0.0,"4":0.0,"5":0.0,"6":0.0,"7":0.0,"8":0.0,"9":0.0,"10":0.0,"11":0.0,"12":0.0,"13":0.0,"14":0.0,"15":0.0,"16":0.0,"17":0.0,"18":0.0,"19":0.0,"20":0.0,"21":0.0,"22":2.842675895,"23":0.0,"24":0.0,"25":0.0,"26":0.0,"27":0.0,"28":0.0,"29":0.0,"30":0.0,"31":0.0,"32":0.0,"33":0.0,"34":0.0,"35":0.0,"36":0.0,"37":0.0,"38":0.0,"39":0.0,"40":0.0,"41":0.0,"42":0.0,"43":0.0,"44":0.0,"45":0.0,"46":0.0,"47":0.0,"48":0.0,"49":0.0},"bankruptcies":{"0":8,"1":8,"2":4,"3":8,"4":2,"5":5,"6":2,"7":4,"8":3,"9":6,"10":4,"11":7,"12":7,"13":4,"14":4,"15":3,"16":1,"17":0,"18":6,"19":5,"20":3,"21":5,"22":6,"23":5,"24":5,"25":3,"26":4,"27":5,"28":7,"29":5,"30":7,"31":3,"32":3,"33":8,"34":6,"35":9,"36":7,"37":0,"38":6,"39":9,"40":4,"41":6,"42":4,"43":2,"44":4,"45":6,"46":5,"47":4,"48":5,"49":8},"potential_credit_channels":{"0":50,"1":50,"2":50,"3":50,"4":50,"5":50,"6":50,"7":50,"8":50,"9":50,"10":50,"11":50,"12":50,"13":50,"14":50,"15":50,"16":50,"17":50,"18":50,"19":50,"20":50,"21":50,"22":50,"23":50,"24":50,"25":50,"26":50,"27":50,"28":50,"29":50,"30":50,"31":50,"32":50,"33":50,"34":50,"35":50,"36":50,"37":50,"38":50,"39":50,"40":50,"41":50,"42":50,"43":50,"44":50,"45":50,"46":50,"47":50,"48":50,"49":50},"prob_change_lender":{"0":0.4972876138,"1":0.4805263734,"2":0.316821866,"3":0.3949653661,"4":0.4085394267,"5":0.3399237082,"6":0.3938532144,"7":0.4496487922,"8":0.3782065506,"9":0.3804002426,"10":0.3235054546,"11":0.3516073541,"12":0.3872326089,"13":0.335239607,"14":0.3204649275,"15":0.4074677008,"16":0.381199021,"17":0.2724961253,"18":0.3646983127,"19":0.3310148787,"20":0.3346635603,"21":0.3235593433,"22":0.3270715096,"23":0.3520387396,"24":0.3745276813,"25":0.3962399995,"26":0.3902637595,"27":0.3734462668,"28":0.3843832739,"29":0.4239129207,"30":0.390963355,"31":0.347445259,"32":0.3365323934,"33":0.3450395909,"34":0.3470019754,"35":0.3642845004,"36":0.3598435931,"37":0.3545931033,"38":0.3539397705,"39":0.3796681303,"40":0.3582399421,"41":0.3650521062,"42":0.3824877265,"43":0.3846992608,"44":0.3636104974,"45":0.3960600192,"46":0.3981799173,"47":0.4192954972,"48":0.3921599108,"49":0.3827079967},"best_lender":{"0":27,"1":18,"2":34,"3":0,"4":11,"5":11,"6":11,"7":11,"8":37,"9":44,"10":44,"11":44,"12":16,"13":44,"14":14,"15":45,"16":45,"17":45,"18":16,"19":45,"20":45,"21":17,"22":17,"23":17,"24":17,"25":17,"26":17,"27":2,"28":2,"29":2,"30":43,"31":2,"32":43,"33":23,"34":23,"35":43,"36":43,"37":29,"38":29,"39":43,"40":0,"41":32,"42":43,"43":43,"44":43,"45":43,"46":43,"47":26,"48":26,"49":44},"policy":{"0":1.0,"1":1.0,"2":1.0,"3":1.0,"4":1.0,"5":1.0,"6":1.0,"7":1.0,"8":1.0,"9":1.0,"10":1.0,"11":1.0,"12":1.0,"13":1.0,"14":1.0,"15":1.0,"16":1.0,"17":1.0,"18":1.0,"19":1.0,"20":1.0,"21":1.0,"22":1.0,"23":1.0,"24":1.0,"25":1.0,"26":1.0,"27":1.0,"28":1.0,"29":1.0,"30":1.0,"31":1.0,"32":1.0,"33":1.0,"34":1.0,"35":1.0,"36":1.0,"37":1.0,"38":1.0,"39":1.0,"40":1.0,"41":1.0,"42":1.0,"43":1.0,"44":1.0,"45":1.0,"46":1.0,"47":1.0,"48":1.0,"49":1.0},"fitness":{"0":0.0,"1":0.2981430692,"2":0.2222733616,"3":0.2016632005,"4":0.2573415557,"5":0.3018132775,"6":0.2614441089,"7":0.2307171853,"8":0.1888716804,"9":0.2478648278,"10":0.2632914568,"11":0.2278015564,"12":0.1868399589,"13":0.1947370474,"14":0.2634087105,"15":0.1960790906,"16":0.1645804282,"17":0.1792676285,"18":0.2111181647,"19":0.1451086468,"20":0.188194059,"21":0.1720254898,"22":0.1947613466,"23":0.1846984601,"24":0.1616967851,"25":0.212188315,"26":0.1567102861,"27":0.135709747,"28":0.1371815862,"29":0.1251634215,"30":0.1120177629,"31":0.1404439568,"32":0.2046430708,"33":0.1401727639,"34":0.0970827273,"35":0.1024919444,"36":0.1298659767,"37":0.1024686858,"38":0.1030721895,"39":0.0841892885,"40":0.10920719,"41":0.0913751534,"42":0.0678502402,"43":0.1645282262,"44":0.1936796452,"45":0.190427817,"46":0.1821221904,"47":0.1824228538,"48":0.2240442496,"49":0.1755477313},"best_lender_clients":{"0":4,"1":4,"2":5,"3":5,"4":6,"5":7,"6":7,"7":6,"8":6,"9":5,"10":6,"11":5,"12":5,"13":6,"14":6,"15":7,"16":7,"17":6,"18":5,"19":7,"20":9,"21":8,"22":8,"23":8,"24":8,"25":7,"26":6,"27":7,"28":5,"29":5,"30":7,"31":8,"32":10,"33":7,"34":6,"35":5,"36":6,"37":7,"38":6,"39":5,"40":6,"41":7,"42":5,"43":6,"44":6,"45":7,"46":6,"47":6,"48":7,"49":6},"rationing":{"0":5.2887175427,"1":0.0,"2":0.0,"3":0.0,"4":8.774089527,"5":0.0,"6":0.0,"7":0.7390173418,"8":9.2557592264,"9":0.0,"10":0.0,"11":0.0,"12":4.9000885694,"13":0.0,"14":0.0,"15":0.0,"16":3.7060248047,"17":2.0906611974,"18":0.0,"19":7.8215785081,"20":0.0,"21":0.0,"22":0.0,"23":13.0729259173,"24":3.1133652352,"25":0.0,"26":0.0,"27":0.0,"28":0.0,"29":7.5425421212,"30":2.3389363244,"31":1.1316783849,"32":12.157550751,"33":3.28650773,"34":0.0,"35":9.4226350894,"36":0.0,"37":5.9220154472,"38":0.0,"39":13.9439679069,"40":0.0,"41":6.5294214297,"42":2.4332365363,"43":1.3183143197,"44":6.2580263434,"45":0.0,"46":3.5928428184,"47":0.2019556745,"48":0.0,"49":0.0},"leverage":{"0":0.2110013371,"1":0.0,"2":0.243301383,"3":0.0,"4":0.2241352123,"5":3.3673231425,"6":8.7231056159,"7":0.870204638,"8":0.0,"9":0.0,"10":0.521351166,"11":1.0515725156,"12":0.0,"13":0.0,"14":0.0,"15":0.0,"16":0.0,"17":0.0,"18":0.0,"19":0.0,"20":2.0841372453,"21":0.0,"22":0.0,"23":0.0,"24":0.0,"25":0.0,"26":0.0,"27":0.0,"28":0.0,"29":0.0,"30":0.5706191224,"31":0.0,"32":0.0,"33":0.0,"34":0.0,"35":0.0,"36":0.0,"37":0.0,"38":0.0,"39":0.0,"40":0.0,"41":0.0,"42":0.0,"43":0.0,"44":0.0,"45":0.0,"46":0.0,"47":0.0,"48":0.0,"49":0.0},"systemic_leverage":{"0":0.0042200267,"1":0.0,"2":0.0097320553,"3":0.0,"4":0.0044827042,"5":0.0673464628,"6":0.3489242246,"7":0.0174040928,"8":0.0,"9":0.0,"10":0.03128107,"11":0.0210314503,"12":0.0,"13":0.0,"14":0.0,"15":0.0,"16":0.0,"17":0.0,"18":0.0,"19":0.0,"20":0.0416827449,"21":0.0,"22":0.0,"23":0.0,"24":0.0,"25":0.0,"26":0.0,"27":0.0,"28":0.0,"29":0.0,"30":0.0114123824,"31":0.0,"32":0.0,"33":0.0,"34":0.0,"35":0.0,"36":0.0,"37":0.0,"38":0.0,"39":0.0,"40":0.0,"41":0.0,"42":0.0,"43":0.0,"44":0.0,"45":0.0,"46":0.0,"47":0.0,"48":0.0,"49":0.0},"loans":{"0":7.4587751659,"1":11.0317577004,"2":5.1853129354,"3":20.3835259937,"4":3.3470244631,"5":17.2220285958,"6":8.8446422102,"7":10.785619489,"8":null,"9":23.5915475927,"10":7.5030797457,"11":15.4351875649,"12":7.1071581888,"13":5.9703248194,"14":null,"15":5.9433219716,"16":null,"17":null,"18":9.328249364,"19":null,"20":11.704135234,"21":7.3020654834,"22":4.2884636897,"23":null,"24":7.9867052784,"25":8.8109710263,"26":16.4032664192,"27":14.4623580665,"28":10.1456283563,"29":5.5321466013,"30":6.1039237982,"31":7.8371997834,"32":10.7356322311,"33":5.6563542948,"34":20.1159102678,"35":9.0326511091,"36":10.2178720142,"37":null,"38":14.8192722428,"39":13.6504760949,"40":2.7913000093,"41":17.7181596488,"42":3.7717682396,"43":null,"44":20.8791682568,"45":9.0830255827,"46":5.2463759279,"47":20.9479358362,"48":10.3790592158,"49":9.7388185437},"reserves":{"0":143.1288658028,"1":151.3303220142,"2":155.8859028093,"3":161.4527723935,"4":164.4372291357,"5":163.8572831104,"6":173.651810503,"7":188.8699741242,"8":178.7872886833,"9":177.8400804159,"10":172.4813024724,"11":174.9616438691,"12":185.099117361,"13":186.2583212445,"14":194.0339800801,"15":196.6399161494,"16":200.1320256147,"17":202.9324774884,"18":208.2201728537,"19":194.2940656031,"20":199.5854096716,"21":193.9757860606,"22":192.990140875,"23":207.6480421192,"24":211.9191298803,"25":203.3120629811,"26":218.3937851911,"27":225.7514448325,"28":228.1771084837,"29":216.9800800389,"30":228.4421165002,"31":243.856831209,"32":239.317530427,"33":248.3993478441,"34":226.3817588341,"35":220.6208732036,"36":234.566619526,"37":228.2106820855,"38":237.3097657584,"39":227.9055502195,"40":235.2915279807,"41":227.3462450852,"42":207.0627237771,"43":204.6110629287,"44":216.775933248,"45":220.927673558,"46":229.2024007087,"47":232.7803333976,"48":244.4793837755,"49":230.7342625798},"deposits":{"0":7156.4432901378,"1":7566.516100708,"2":7794.2951404636,"3":8072.6386196737,"4":8221.8614567851,"5":8192.8641555213,"6":8682.5905251513,"7":9443.4987062109,"8":8939.3644341663,"9":8892.0040207932,"10":8624.0651236203,"11":8748.0821934571,"12":9254.9558680501,"13":9312.9160622267,"14":9701.699004007,"15":9831.9958074725,"16":10006.6012807355,"17":10146.6238744208,"18":10411.0086426861,"19":9714.7032801574,"20":9979.2704835813,"21":9698.7893030292,"22":9649.5070437514,"23":10382.4021059625,"24":10595.9564940143,"25":10165.6031490566,"26":10919.6892595558,"27":11287.5722416257,"28":11408.8554241838,"29":10849.0040019464,"30":11422.1058250113,"31":12192.8415604525,"32":11965.8765213503,"33":12419.967392205,"34":11319.0879417061,"35":11031.0436601822,"36":11728.3309763012,"37":11410.5341042766,"38":11865.4882879222,"39":11395.2775109735,"40":11764.5763990342,"41":11367.3122542579,"42":10353.136188857,"43":10230.5531464355,"44":10838.796662398,"45":11046.3836778983,"46":11460.1200354348,"47":11639.016669882,"48":12223.9691887727,"49":11536.7131289902},"active_lenders":{"0":6,"1":2,"2":4,"3":1,"4":1,"5":4,"6":2,"7":2,"8":0,"9":1,"10":4,"11":4,"12":2,"13":2,"14":0,"15":1,"16":0,"17":0,"18":1,"19":0,"20":1,"21":1,"22":2,"23":0,"24":5,"25":2,"26":1,"27":3,"28":2,"29":2,"30":4,"31":1,"32":1,"33":3,"34":2,"35":3,"36":1,"37":0,"38":3,"39":3,"40":1,"41":3,"42":1,"43":0,"44":1,"45":3,"46":2,"47":2,"48":1,"49":4},"active_borrowers":{"0":7,"1":2,"2":4,"3":2,"4":1,"5":4,"6":2,"7":2,"8":0,"9":1,"10":4,"11":4,"12":2,"13":2,"14":0,"15":1,"16":0,"17":0,"18":1,"19":0,"20":2,"21":1,"22":2,"23":0,"24":5,"25":2,"26":1,"27":3,"28":2,"29":2,"30":4,"31":1,"32":1,"33":3,"34":3,"35":4,"36":1,"37":0,"38":3,"39":4,"40":1,"41":4,"42":1,"43":0,"44":1,"45":3,"46":2,"47":3,"48":1,"49":5},"prob_bankruptcy":{"0":0.0,"1":0.0041847076,"2":0.2100083954,"3":0.346033641,"4":0.0,"5":0.1210869014,"6":0.0,"7":0.8933201057,"8":0.0,"9":0.5920849785,"10":0.0025687879,"11":0.2763722276,"12":0.351967319,"13":0.8265115863,"14":0.0,"15":0.351967319,"16":0.0,"17":0.0,"18":0.351967319,"19":0.0,"20":0.1227884516,"21":0.2778862589,"22":0.2877518649,"23":0.0,"24":0.4595393539,"25":0.2778862589,"26":0.2778862589,"27":0.5706908914,"28":0.0265974877,"29":0.1921403004,"30":0.0265974877,"31":0.6073295571,"32":0.6073295571,"33":0.6037530828,"34":0.6548274064,"35":0.6073295571,"36":0.6073295571,"37":0.0,"38":0.6073295571,"39":0.6567328307,"40":0.6073295571,"41":0.7977943458,"42":0.6073295571,"43":0.0,"44":0.7314880485,"45":0.5819604077,"46":0.7430327682,"47":0.7619002258,"48":0.6073295571,"49":0.6252497489},"num_banks":{"0":50,"1":50,"2":50,"3":50,"4":50,"5":50,"6":50,"7":50,"8":50,"9":50,"10":50,"11":50,"12":50,"13":50,"14":50,"15":50,"16":50,"17":50,"18":50,"19":50,"20":50,"21":50,"22":50,"23":50,"24":50,"25":50,"26":50,"27":50,"28":50,"29":50,"30":50,"31":50,"32":50,"33":50,"34":50,"35":50,"36":50,"37":50,"38":50,"39":50,"40":50,"41":50,"42":50,"43":50,"44":50,"45":50,"46":50,"47":50,"48":50,"49":50},"bankruptcy_rationed":{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0}}'

    def setUp(self):
        model = interbank.Model()
        model.log.define_log('ERROR')
        model.config.lender_change = self.ALGORITHM()
        model.configure(N=self.N, T=self.T)
        model.initialize(seed=self.SEED)
        model.simulate_full()
        self.generated_now_values = model.finish()
        ## self.results.to_dict() and save the json to self.RESULTS_TO_COMPARE
        ## also        json.dumps(separators=(',', ':'), obj=self.results.to_json())

        # we also create a gdt file with a whole execution:
        model.configure(T=self.T_LONG)
        model.statistics.define_output_format('gdt')
        model.initialize(seed=self.SEED, output_directory='tests',
                         export_datafile='test_whole_execution_boltzmann')
        model.simulate_full(interactive=True)
        model.finish()

    def test_values_after_execution(self):
        self.assertEqual(self.generated_now_values.to_json(), self.RESULTS_TO_COMPARE)


if __name__ == '__main__':
    unittest.main()
