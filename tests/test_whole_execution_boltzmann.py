# -*- coding: utf-8 -*-

import unittest
import interbank
import interbank_lenderchange


class WholeExecution(unittest.TestCase):
    N = 50
    T = 50
    T_LONG = 1000

    maxDiff = None

    ALGORITHM = interbank_lenderchange.Boltzmann
    P = 0.5

    SEED = 39393

    RESULTS_TO_COMPARE = '{"bad_debt":{"0":0.0,"1":0.0,"2":0.0,"3":0.0,"4":7.5295017655,"5":15.4200981405,"6":17.9811356748,"7":18.3496784605,"8":31.928738768,"9":12.7196639842,"10":1.4971181954,"11":20.3695859893,"12":0.0,"13":14.6827580205,"14":0.0,"15":0.0,"16":3.2042022374,"17":16.5216819982,"18":9.4710061056,"19":0.0,"20":5.7361821697,"21":0.6620063356,"22":53.9379635054,"23":24.1339359241,"24":6.0466858409,"25":0.0,"26":0.0,"27":20.9106399618,"28":22.9729714098,"29":8.0105324962,"30":30.7639188783,"31":52.0656074074,"32":11.8003034993,"33":13.4256245753,"34":0.1325380748,"35":24.3809670872,"36":2.7715538372,"37":0.0,"38":44.5599620037,"39":0.1148570539,"40":15.2414174405,"41":23.1626040818,"42":18.742937825,"43":33.2504450531,"44":31.2870152739,"45":33.0824437864,"46":20.4753069447,"47":61.4396059377,"48":0.0,"49":53.9155433567},"liquidity":{"0":3052.1979474361,"1":2928.0801133594,"2":2877.4414307579,"3":2993.3983632628,"4":3281.9600655455,"5":3300.2188966203,"6":3402.2564013332,"7":3437.0396468971,"8":3306.223621877,"9":3340.6162799937,"10":3553.3591974441,"11":3681.9873464727,"12":4378.256237053,"13":4280.2250289512,"14":4013.5557386992,"15":4254.9427669214,"16":5107.6613706192,"17":4717.2880894258,"18":4874.1119872193,"19":5210.9822200143,"20":5170.9918467377,"21":4867.7802009835,"22":4807.0913000223,"23":5296.1935648898,"24":6302.7836188912,"25":6739.4465713349,"26":7115.4669373937,"27":5946.9684324369,"28":5169.8437389857,"29":5139.4030303919,"30":5411.5811130778,"31":4822.694621772,"32":4878.6062520856,"33":4424.5478078275,"34":4754.6825857602,"35":4538.4068363052,"36":4972.0334010803,"37":4607.8843242936,"38":4454.60007665,"39":4533.6345843027,"40":5205.3539715121,"41":5260.656570831,"42":5256.54383847,"43":4929.8630060455,"44":4757.3996053279,"45":5791.0818030431,"46":4600.6471192077,"47":3956.3620989645,"48":4851.8372568792,"49":4706.2223243834},"interest_rate":{"0":0.0,"1":0.0,"2":0.0,"3":0.02,"4":0.0674181173,"5":0.0618080711,"6":3.3829489537,"7":4.8354467775,"8":2.5676087998,"9":3.5233035826,"10":2.8707371174,"11":3.3198308668,"12":37.7362985093,"13":111.2228001706,"14":0.0,"15":2.4080321544,"16":491.3803705324,"17":79.3563070165,"18":71.0041938218,"19":0.0,"20":72.4317084512,"21":72.1672234725,"22":658.8108144699,"23":340.7255446698,"24":75.7903618417,"25":70.0140898946,"26":0.0,"27":93.9639754053,"28":74.607601734,"29":138.6575945352,"30":71.1800956401,"31":103.2491275525,"32":70.4306314525,"33":70.8630059116,"34":651.294807483,"35":193.8734476069,"36":71.0297762394,"37":0.9415522788,"38":30.8610775148,"39":21.9633405369,"40":2979.0433621344,"41":142.5674763984,"42":26.9972223663,"43":211.3890834245,"44":49.1809149863,"45":59.5134626016,"46":83.6784374949,"47":61.2972477929,"48":0.0,"49":61.1708013753},"asset_i":{"0":0.0,"1":2.7624109998,"2":2.6782885575,"3":2.7192758047,"4":2.7972837155,"5":2.9065920235,"6":2.6583127974,"7":2.835233226,"8":2.7229137512,"9":2.8877552641,"10":2.8580643737,"11":2.9741353451,"12":3.0637620574,"13":3.0582623793,"14":2.8041714967,"15":2.799699272,"16":3.3983316766,"17":3.4407338114,"18":3.2608846639,"19":3.3765659774,"20":3.3670322871,"21":3.3576908743,"22":3.2976674736,"23":3.6618614671,"24":3.6235704276,"25":4.594769908,"26":4.5714763949,"27":3.7887353388,"28":4.0385274836,"29":2.6633975223,"30":2.8354851027,"31":2.6433893873,"32":3.6049942099,"33":2.6375124498,"34":3.2775560595,"35":3.6375857878,"36":3.330283155,"37":2.9611074036,"38":3.4134816727,"39":3.2938243418,"40":3.534615118,"41":3.4071399378,"42":3.4123353006,"43":3.6393554158,"44":3.7836052401,"45":3.5867509783,"46":3.787956282,"47":3.0274012657,"48":3.0327866684,"49":3.3558169633},"asset_j":{"0":0.0,"1":4.5832215622,"2":4.5194846949,"3":4.4952649842,"4":4.497828172,"5":4.7241742946,"6":4.6535292951,"7":4.7743455614,"8":4.7830681115,"9":4.7940155697,"10":4.8267817776,"11":4.9375705623,"12":4.9560425262,"13":5.3855515239,"14":5.3057112646,"15":5.1696650609,"16":5.7317363214,"17":6.1572471773,"18":5.955693341,"19":6.0426908842,"20":6.2092536397,"21":6.194034339,"22":6.0366233182,"23":6.0225607916,"24":6.2698458074,"25":6.8003435546,"26":7.1275467386,"27":7.2788025594,"28":6.592054446,"29":6.1560986127,"30":6.1607097026,"31":6.3018633272,"32":6.045380013,"33":6.0425066282,"34":5.8466551342,"35":6.0277315481,"36":5.9141081569,"37":5.7130090972,"38":5.6891045849,"39":5.6815205199,"40":5.6620009398,"41":5.8702687154,"42":5.8097219256,"43":5.8925060667,"44":5.9991651307,"45":5.9181246305,"46":6.5173955733,"47":5.8925861692,"48":5.5697866169,"49":6.0270118397},"equity":{"0":750.0,"1":750.0,"2":750.0,"3":750.0,"4":729.3614348714,"5":744.8900761398,"6":721.9801127463,"7":713.6051631414,"8":714.8391443227,"9":702.1194803385,"10":700.6223621431,"11":679.6724793093,"12":672.2331834111,"13":697.7920627499,"14":688.0443427859,"15":703.3803095341,"16":720.4213412588,"17":715.2494577153,"18":709.3606239949,"19":709.3606239949,"20":701.9014045897,"21":658.0026412642,"22":640.1886980673,"23":654.6502365005,"24":666.7066953379,"25":705.1869721151,"26":692.1994425674,"27":669.1129495096,"28":666.1661180129,"29":665.4266414961,"30":657.3609716101,"31":631.7684157391,"32":634.8398825516,"33":630.9534526532,"34":642.8796667041,"35":634.0148886505,"36":615.5745340331,"37":573.0805836904,"38":569.7283857394,"39":563.0374917767,"40":587.5529794744,"41":607.2499471849,"42":594.5408271422,"43":632.4165672358,"44":625.9766929041,"45":614.5890701819,"46":605.6019955021,"47":616.7047670203,"48":608.8433846925,"49":619.9867227836},"equity_borrowers":{"0":0.0,"1":0.0,"2":0.0,"3":0.0,"4":15.0,"5":15.0,"6":30.0,"7":17.3735149571,"8":15.0,"9":30.0,"10":15.0,"11":45.0,"12":15.0,"13":23.6128838624,"14":0.0,"15":0.0,"16":30.0,"17":9.8281164565,"18":15.0,"19":0.0,"20":15.0,"21":15.0,"22":15.0,"23":0.0,"24":0.0,"25":0.0,"26":0.0,"27":15.0,"28":15.0,"29":30.0,"30":15.0,"31":45.0,"32":15.0,"33":15.0,"34":15.0,"35":45.0,"36":15.0,"37":0.0,"38":30.0,"39":15.0,"40":45.0,"41":15.0,"42":15.0,"43":0.0,"44":30.0,"45":15.0,"46":0.0,"47":0.0,"48":0.0,"49":0.0},"bankruptcies":{"0":0,"1":1,"2":0,"3":1,"4":1,"5":3,"6":2,"7":4,"8":4,"9":2,"10":1,"11":7,"12":2,"13":3,"14":2,"15":2,"16":3,"17":2,"18":3,"19":1,"20":2,"21":2,"22":5,"23":4,"24":2,"25":3,"26":3,"27":2,"28":3,"29":2,"30":4,"31":6,"32":2,"33":2,"34":2,"35":4,"36":2,"37":1,"38":6,"39":2,"40":4,"41":3,"42":4,"43":4,"44":6,"45":5,"46":2,"47":6,"48":0,"49":3},"potential_credit_channels":{"0":50,"1":50,"2":50,"3":50,"4":50,"5":50,"6":50,"7":50,"8":50,"9":50,"10":50,"11":50,"12":50,"13":50,"14":50,"15":50,"16":50,"17":50,"18":50,"19":50,"20":50,"21":50,"22":50,"23":50,"24":50,"25":50,"26":50,"27":50,"28":50,"29":50,"30":50,"31":50,"32":50,"33":50,"34":50,"35":50,"36":50,"37":50,"38":50,"39":50,"40":50,"41":50,"42":50,"43":50,"44":50,"45":50,"46":50,"47":50,"48":50,"49":50},"prob_change_lender":{"0":0.5197481744,"1":0.5008938328,"2":0.4553928682,"3":0.4033935354,"4":0.3573939943,"5":0.349142323,"6":0.3749255108,"7":0.3454425716,"8":0.306135886,"9":0.3135254248,"10":0.3193028977,"11":0.3270728874,"12":0.3232436617,"13":0.3875224347,"14":0.3272078715,"15":0.251849915,"16":0.3104726652,"17":0.3322782483,"18":0.3209402863,"19":0.289296317,"20":0.268336653,"21":0.2932293703,"22":0.3673812362,"23":0.385358169,"24":0.4078508695,"25":0.4216802091,"26":0.4244741508,"27":0.460289331,"28":0.4589302717,"29":0.4598114411,"30":0.4658100084,"31":0.4579706373,"32":0.4528601539,"33":0.4320388245,"34":0.4471247551,"35":0.4331294825,"36":0.4050961579,"37":0.3896346401,"38":0.3743379675,"39":0.353008575,"40":0.3534725239,"41":0.3451616588,"42":0.3560084731,"43":0.3925361253,"44":0.4007951441,"45":0.4190936878,"46":0.4157683033,"47":0.4313103445,"48":0.417080601,"49":0.4337659638},"best_lender":{"0":38,"1":33,"2":29,"3":27,"4":27,"5":27,"6":27,"7":0,"8":48,"9":45,"10":27,"11":27,"12":27,"13":27,"14":48,"15":37,"16":37,"17":37,"18":37,"19":37,"20":37,"21":37,"22":37,"23":37,"24":37,"25":37,"26":48,"27":42,"28":37,"29":37,"30":37,"31":37,"32":42,"33":42,"34":42,"35":0,"36":0,"37":0,"38":38,"39":38,"40":38,"41":38,"42":38,"43":38,"44":38,"45":30,"46":43,"47":43,"48":43,"49":34},"policy":{"0":1.0,"1":1.0,"2":1.0,"3":1.0,"4":1.0,"5":1.0,"6":1.0,"7":1.0,"8":1.0,"9":1.0,"10":1.0,"11":1.0,"12":1.0,"13":1.0,"14":1.0,"15":1.0,"16":1.0,"17":1.0,"18":1.0,"19":1.0,"20":1.0,"21":1.0,"22":1.0,"23":1.0,"24":1.0,"25":1.0,"26":1.0,"27":1.0,"28":1.0,"29":1.0,"30":1.0,"31":1.0,"32":1.0,"33":1.0,"34":1.0,"35":1.0,"36":1.0,"37":1.0,"38":1.0,"39":1.0,"40":1.0,"41":1.0,"42":1.0,"43":1.0,"44":1.0,"45":1.0,"46":1.0,"47":1.0,"48":1.0,"49":1.0},"fitness":{"0":0.0,"1":0.5371630566,"2":0.3305320437,"3":0.2904811671,"4":0.2248581495,"5":0.2565425933,"6":0.2372060998,"7":0.1579700157,"8":0.1471062353,"9":0.3052057664,"10":0.3263753626,"11":0.2292782074,"12":0.1935813791,"13":0.1259911142,"14":0.2103277318,"15":0.1992390353,"16":0.2149764005,"17":0.1820780149,"18":0.2229358438,"19":0.1851650324,"20":0.1874425327,"21":0.2114347097,"22":0.1220971355,"23":0.0853970789,"24":0.0703995466,"25":0.056469385,"26":0.0664461953,"27":0.060345998,"28":0.0642468156,"29":0.0644505758,"30":0.0619967894,"31":0.0565642495,"32":0.0803165877,"33":0.0890502547,"34":0.1227971477,"35":0.086651475,"36":0.109608182,"37":0.1107558109,"38":0.1420609987,"39":0.1561543841,"40":0.1491434484,"41":0.1296876188,"42":0.1251217316,"43":0.1454578497,"44":0.0948510969,"45":0.1288779026,"46":0.0798275424,"47":0.1152063119,"48":0.2154073859,"49":0.1684494592},"best_lender_clients":{"0":4,"1":6,"2":8,"3":6,"4":7,"5":5,"6":7,"7":5,"8":4,"9":5,"10":7,"11":12,"12":12,"13":12,"14":6,"15":8,"16":9,"17":10,"18":12,"19":12,"20":12,"21":12,"22":9,"23":10,"24":9,"25":9,"26":9,"27":11,"28":10,"29":8,"30":7,"31":7,"32":7,"33":8,"34":7,"35":6,"36":7,"37":6,"38":9,"39":8,"40":10,"41":12,"42":12,"43":10,"44":8,"45":8,"46":8,"47":8,"48":8,"49":6},"rationing":{"0":0.0,"1":0.0,"2":0.0,"3":0.0,"4":5.6181700128,"5":0.0,"6":0.8043523243,"7":0.0,"8":2.6388564438,"9":0.0,"10":0.0,"11":0.2486986476,"12":5.2073185869,"13":0.0,"14":6.8796906543,"15":0.0,"16":0.0,"17":0.0,"18":0.0,"19":0.0,"20":0.6412050627,"21":19.510470014,"22":10.9900987255,"23":3.9744048035,"24":4.5870165629,"25":2.6507444941,"26":5.478141037,"27":0.0,"28":0.0,"29":0.0,"30":0.0,"31":4.0882262901,"32":0.1453975,"33":0.0,"34":0.0,"35":0.0,"36":0.0,"37":12.9676770005,"38":0.0,"39":2.2038716126,"40":0.0,"41":0.0,"42":8.1969137583,"43":0.0,"44":0.0,"45":2.6651685547,"46":13.2078246346,"47":0.1821415462,"48":3.3691638548,"49":0.0},"leverage":{"0":0.0,"1":0.0,"2":0.0,"3":0.0680436054,"4":0.0,"5":0.237875626,"6":0.9647487094,"7":2.6174097232,"8":0.0,"9":0.0,"10":0.0,"11":0.1342060142,"12":0.0,"13":0.0,"14":0.0,"15":0.0,"16":0.0,"17":0.0,"18":0.0,"19":0.0,"20":0.0,"21":0.0,"22":0.0,"23":0.0,"24":0.0,"25":0.0,"26":0.0,"27":0.0,"28":0.0,"29":0.0,"30":0.0,"31":0.0,"32":0.0,"33":0.0,"34":0.0,"35":0.0,"36":0.0,"37":31.1195023621,"38":0.0,"39":0.0788835516,"40":0.0,"41":0.4050129165,"42":0.0,"43":3.4355244204,"44":11.975034347,"45":0.0,"46":0.0,"47":0.0,"48":0.0,"49":0.0},"systemic_leverage":{"0":0.0,"1":0.0,"2":0.0,"3":0.0013608721,"4":0.0,"5":0.0047575125,"6":0.0192949742,"7":0.0523481945,"8":0.0,"9":0.0,"10":0.0,"11":0.0026841203,"12":0.0,"13":0.0,"14":0.0,"15":0.0,"16":0.0,"17":0.0,"18":0.0,"19":0.0,"20":0.0,"21":0.0,"22":0.0,"23":0.0,"24":0.0,"25":0.0,"26":0.0,"27":0.0,"28":0.0,"29":0.0,"30":0.0,"31":0.0,"32":0.0,"33":0.0,"34":0.0,"35":0.0,"36":0.0,"37":0.6223900472,"38":0.0,"39":0.001577671,"40":0.0,"41":0.0081002583,"42":0.0,"43":0.0687104884,"44":0.2395006869,"45":0.0,"46":0.0,"47":0.0,"48":0.0,"49":0.0},"loans":{"0":null,"1":null,"2":null,"3":1.0192669885,"4":7.5295017655,"5":6.3221704166,"6":9.0518240762,"7":6.0342162484,"8":13.5268287618,"9":6.3598319921,"10":1.4971181954,"11":7.3006423746,"12":4.5750776547,"13":4.9647209831,"14":null,"15":6.3686719133,"16":1.6021011187,"17":8.5855924503,"18":9.4710061056,"19":null,"20":5.7361821697,"21":0.6620063356,"22":17.9793211685,"23":24.1339359241,"24":6.0466858409,"25":0.4850781988,"26":null,"27":10.4553199809,"28":11.4864857049,"29":4.9099319699,"30":15.3819594391,"31":13.0164018519,"32":5.9001517496,"33":13.4256245753,"34":2.3811088271,"35":8.1269890291,"36":2.7715538372,"37":4.9468926057,"38":14.9317758976,"39":0.2834799844,"40":5.7239056284,"41":9.3604298413,"42":9.3714689125,"43":21.0820961744,"44":10.0559296282,"45":16.5412218932,"46":20.4753069447,"47":20.4798686459,"48":null,"49":26.9577716784},"reserves":{"0":113.7183254579,"1":112.2995941502,"2":110.9505789598,"3":114.4678056609,"4":120.864724802,"5":124.5992695099,"6":127.5073882431,"7":131.4268723826,"8":131.6942928662,"9":134.5696128577,"10":139.5454433593,"11":145.0938475927,"12":160.477947643,"13":159.0285155505,"14":153.9793317836,"15":158.3038894984,"16":177.7593721558,"17":170.5229871549,"18":174.4206553315,"19":181.221985839,"20":179.8017615949,"21":173.5844272479,"22":174.5642482663,"23":185.2222255109,"24":205.8695470461,"25":215.5469915914,"26":222.1059397992,"27":198.4364527933,"28":184.0389219042,"29":184.1734324305,"30":189.3873678116,"31":179.2612141734,"32":181.7524896306,"33":173.0670403552,"34":180.8061142405,"35":179.395081161,"36":187.9440034609,"37":179.2752845469,"38":178.241353829,"39":179.6855896677,"40":194.1982530728,"41":195.6288208923,"42":195.4206998521,"43":190.2142059079,"44":187.0901259767,"45":209.3365474375,"46":184.1898008071,"47":172.8815197268,"48":190.1375442433,"49":188.0194917203},"deposits":{"0":5685.916272894,"1":5614.9797075096,"2":5547.5289479914,"3":5723.3902830473,"4":6043.2362401016,"5":6229.9634754964,"6":6375.3694121543,"7":6571.343619132,"8":6584.71464331,"9":6728.4806428834,"10":6977.2721679661,"11":7254.6923796348,"12":8023.8973821488,"13":7951.4257775252,"14":7698.9665891798,"15":7915.1944749218,"16":8887.9686077891,"17":8526.1493577433,"18":8721.0327665733,"19":9061.0992919489,"20":8990.0880797429,"21":8679.2213623945,"22":8728.2124133134,"23":9261.1112755425,"24":10293.4773523026,"25":10777.3495795709,"26":11105.2969899621,"27":9921.8226396628,"28":9201.9460952099,"29":9208.6716215236,"30":9469.3683905799,"31":8963.0607086704,"32":9087.624481532,"33":8653.3520177623,"34":9040.3057120234,"35":8969.7540580485,"36":9397.2001730447,"37":8963.7642273457,"38":8912.0676914518,"39":8984.2794833855,"40":9709.9126536411,"41":9781.4410446174,"42":9771.0349926042,"43":9510.7102953946,"44":9354.5062988333,"45":10466.8273718752,"46":9209.4900403546,"47":8644.0759863385,"48":9506.8772121646,"49":9400.9745860148},"active_lenders":{"0":0,"1":0,"2":0,"3":1,"4":1,"5":3,"6":3,"7":4,"8":2,"9":2,"10":1,"11":3,"12":1,"13":3,"14":0,"15":1,"16":2,"17":2,"18":1,"19":0,"20":1,"21":1,"22":3,"23":1,"24":1,"25":1,"26":0,"27":2,"28":2,"29":2,"30":2,"31":4,"32":2,"33":1,"34":1,"35":3,"36":1,"37":1,"38":3,"39":2,"40":3,"41":3,"42":2,"43":2,"44":4,"45":2,"46":1,"47":3,"48":0,"49":2},"active_borrowers":{"0":0,"1":0,"2":0,"3":1,"4":1,"5":3,"6":3,"7":4,"8":2,"9":2,"10":1,"11":4,"12":1,"13":4,"14":0,"15":1,"16":2,"17":2,"18":1,"19":0,"20":1,"21":1,"22":3,"23":2,"24":1,"25":1,"26":0,"27":2,"28":2,"29":2,"30":2,"31":4,"32":2,"33":1,"34":1,"35":3,"36":1,"37":1,"38":4,"39":2,"40":3,"41":3,"42":2,"43":3,"44":5,"45":3,"46":1,"47":4,"48":0,"49":3},"prob_bankruptcy":{"0":0.0,"1":0.0,"2":0.0,"3":0.0,"4":0.0013571782,"5":0.001809571,"6":0.0446971111,"7":0.1581637482,"8":0.0403278207,"9":0.0403278207,"10":0.0403278207,"11":0.0403278207,"12":0.3417361655,"13":0.3792412917,"14":0.0,"15":0.0403278207,"16":0.7164621792,"17":0.5055374327,"18":0.5055374327,"19":0.0,"20":0.5055374327,"21":0.5055374327,"22":0.6581255236,"23":0.7016487104,"24":0.5055374327,"25":0.5055374327,"26":0.0,"27":0.3561993256,"28":0.5055374327,"29":0.6253795996,"30":0.5055374327,"31":0.5636423231,"32":0.5055374327,"33":0.5055374327,"34":0.9030442017,"35":0.6235338856,"36":0.0,"37":0.0,"38":0.2793891339,"39":0.2369424837,"40":0.7539253954,"41":0.2849586512,"42":0.213494543,"43":0.3618024349,"44":0.5581196496,"45":0.4562095088,"46":0.4562095088,"47":0.4562095088,"48":0.0,"49":0.4562095088},"num_banks":{"0":50,"1":50,"2":50,"3":50,"4":50,"5":50,"6":50,"7":50,"8":50,"9":50,"10":50,"11":50,"12":50,"13":50,"14":50,"15":50,"16":50,"17":50,"18":50,"19":50,"20":50,"21":50,"22":50,"23":50,"24":50,"25":50,"26":50,"27":50,"28":50,"29":50,"30":50,"31":50,"32":50,"33":50,"34":50,"35":50,"36":50,"37":50,"38":50,"39":50,"40":50,"41":50,"42":50,"43":50,"44":50,"45":50,"46":50,"47":50,"48":50,"49":50},"bankruptcy_rationed":{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0}}'

    def setUp(self):
        model = interbank.Model()
        model.log.define_log('ERROR')
        model.config.lender_change = self.ALGORITHM()
        model.configure(N=self.N, T=self.T)
        model.initialize(seed=self.SEED)
        model.simulate_full()
        self.generated_now_values = model.finish()
        ## self.results.to_dict() and save the json to self.RESULTS_TO_COMPARE
        ## also        json.dumps(separators=(',', ':'), obj=self.results.to_json())

        # we also create a gdt file with a whole execution:
        model.configure(T=self.T_LONG)
        model.statistics.define_output_format('gdt')
        model.initialize(seed=self.SEED, output_directory='tests',
                         export_datafile='test_whole_execution_boltzmann')
        model.simulate_full(interactive=True)
        model.finish()

    def test_values_after_execution(self):
        self.assertEqual(self.generated_now_values.to_json(), self.RESULTS_TO_COMPARE)


if __name__ == '__main__':
    unittest.main()
