# -*- coding: utf-8 -*-

import unittest
import interbank
import interbank_lenderchange
import os


class WholeExecution(unittest.TestCase):
    N = 50
    T = 50
    T_LONG = 1000

    maxDiff = None

    ALGORITHM = interbank_lenderchange.Boltzmann
    P = 0.5

    SEED = 39393

    RESULTS_TO_COMPARE = '{"bad_debt":{"0":41.60093128,"1":25.7667753718,"2":43.2586136221,"3":65.6848371371,"4":44.0504047335,"5":78.7551087216,"6":40.8892167986,"7":20.142906447,"8":50.6539214555,"9":0.0,"10":43.0688805676,"11":9.9528679034,"12":0.0,"13":0.0,"14":11.6889155324,"15":11.5219158124,"16":13.2035560536,"17":0.0,"18":11.8714104966,"19":17.4276215735,"20":0.0,"21":0.0,"22":4.7472691423,"23":0.0,"24":9.7427208807,"25":10.7483719233,"26":13.075297386,"27":23.0056461341,"28":26.814459846,"29":14.6768492317,"30":0.0,"31":26.8267391576,"32":7.9233685256,"33":6.6787287378,"34":7.1319376724,"35":15.2878051384,"36":24.5823956623,"37":0.0,"38":25.9318218278,"39":6.3969773026,"40":0.0,"41":0.0,"42":0.0,"43":30.3017342369,"44":50.9086244501,"45":4.7125437748,"46":9.2892907641,"47":0.0,"48":36.8750981244,"49":37.2650228742},"liquidity":{"0":1839.4931311725,"1":1926.1934419856,"2":2091.2860335336,"3":2169.1740617679,"4":2297.8266681002,"5":2498.4119461928,"6":2793.5457292103,"7":2574.0398390697,"8":2820.3267216518,"9":2898.6880811624,"10":3243.5849480563,"11":3172.8110190107,"12":3703.7873917822,"13":3862.0874880779,"14":3911.7927576163,"15":4049.0241588629,"16":4612.4911956076,"17":4851.9956162041,"18":4774.7990957195,"19":4929.5880409075,"20":5033.0392628188,"21":5320.6077532308,"22":5833.9098522113,"23":7084.5563440792,"24":6628.643379318,"25":6558.0211197457,"26":6699.8084595293,"27":5636.9216078961,"28":5386.9231591303,"29":4938.8910008671,"30":5955.9941720558,"31":5106.7189301615,"32":5060.3465284742,"33":5243.7205581595,"34":5903.7457156378,"35":6540.1875498876,"36":6112.0900808472,"37":5991.9995830602,"38":6096.0950329347,"39":7452.2903520343,"40":8435.0044941734,"41":9019.7567548684,"42":9022.2418021546,"43":9156.641996027,"44":7467.3254633458,"45":8569.8240057736,"46":7646.8593446193,"47":8408.2589844518,"48":6429.7764082113,"49":6220.0754531204},"interest_rate":{"0":0.02,"1":4.212454953,"2":0.2293750598,"3":19.7748613075,"4":0.2982987992,"5":0.5520753286,"6":0.2750452602,"7":1.1152886526,"8":0.7064671665,"9":0.3619777326,"10":0.4461435778,"11":0.02,"12":0.0,"13":0.0,"14":0.1423079502,"15":0.1467424374,"16":0.1307349799,"17":0.0,"18":0.1567898472,"19":0.1535203672,"20":0.0,"21":0.137034765,"22":0.0,"23":0.183689591,"24":0.2499482083,"25":0.0581239654,"26":1.1540982728,"27":0.0970359403,"28":0.7097546694,"29":0.0406906819,"30":0.0107170421,"31":1.2219619496,"32":1.2246596909,"33":0.0100139729,"34":0.5060033798,"35":0.1890012984,"36":0.0853434182,"37":0.0,"38":0.1649328449,"39":2.1358588856,"40":0.02,"41":0.0837132132,"42":0.0034733991,"43":0.02,"44":0.1761990017,"45":0.0201538813,"46":0.02,"47":0.0,"48":0.5387353185,"49":0.0078625335},"asset_i":{"0":0.0,"1":2.4149528539,"2":2.4678060393,"3":2.4215039617,"4":2.5442300536,"5":2.4343335154,"6":2.4497903163,"7":2.5808321155,"8":2.6053849806,"9":2.6820237375,"10":2.7195147561,"11":2.6715738811,"12":2.6152280538,"13":2.9098638125,"14":2.9932771134,"15":2.9242290016,"16":2.7874106577,"17":2.942223909,"18":3.1154789212,"19":3.2424390409,"20":3.0057996804,"21":3.3611612742,"22":3.2339057755,"23":3.6563125893,"24":3.886896266,"25":3.7789450748,"26":3.8893380764,"27":3.497539595,"28":3.8474317138,"29":3.3094075404,"30":3.3387149535,"31":3.4794320825,"32":3.2406874516,"33":3.4365338066,"34":3.0574687612,"35":3.3815876118,"36":3.2920543706,"37":3.5077934185,"38":3.7916835796,"39":4.0160284802,"40":3.7518194277,"41":4.9118127166,"42":3.2642195136,"43":5.6109539395,"44":4.1787860647,"45":4.6758690885,"46":4.2473365563,"47":4.2473783203,"48":4.6335258394,"49":3.8960531661},"asset_j":{"0":0.0,"1":4.0014831147,"2":4.3948732955,"3":4.5391703474,"4":4.3827950006,"5":4.5673902565,"6":4.6574658741,"7":4.8965224083,"8":4.7034745282,"9":4.8159310979,"10":4.854675617,"11":4.8900625995,"12":4.9313933527,"13":5.2106215317,"14":5.2955788025,"15":5.3017406044,"16":5.2793631947,"17":5.6206815857,"18":5.7617065891,"19":5.7354861826,"20":5.8330309368,"21":5.8931069688,"22":5.9659635673,"23":6.3066555333,"24":6.9319461705,"25":6.5394616036,"26":6.5971768547,"27":6.6435336692,"28":6.1279807439,"29":5.9205179617,"30":5.7727012751,"31":6.1884382011,"32":5.7906920364,"33":5.7832167281,"34":5.7649349048,"35":6.137453844,"36":6.5175167751,"37":6.3566911169,"38":6.2333904933,"39":6.3174231616,"40":6.9139201544,"41":7.459410594,"42":7.6604009484,"43":7.7732694964,"44":7.8343083318,"45":7.0005162453,"46":7.4755040163,"47":7.0671191887,"48":7.4643718227,"49":6.3656122915},"equity":{"0":680.3556013493,"1":689.6151547486,"2":683.4532463883,"3":682.5459675726,"4":650.9783219504,"5":655.8864188138,"6":610.2750910447,"7":614.8667934988,"8":648.3849518434,"9":643.6331886213,"10":616.1659357069,"11":613.9472458977,"12":604.1590921003,"13":598.330089277,"14":620.130496147,"15":625.1639469827,"16":644.3828849677,"17":627.6000114637,"18":622.6355086682,"19":592.9584193235,"20":592.7474429656,"21":582.8090892055,"22":599.9011476097,"23":600.6556645105,"24":616.1899257963,"25":596.5106501229,"26":618.4962580419,"27":600.6980737219,"28":602.3555055402,"29":585.8622553058,"30":550.7479353125,"31":591.1427984386,"32":587.1316398831,"33":617.5697989762,"34":623.159001746,"35":639.618542987,"36":622.1605175067,"37":631.8992712286,"38":611.0945886962,"39":635.2150349159,"40":632.5258930552,"41":644.1272726438,"42":614.5964463399,"43":629.678469347,"44":641.6678173535,"45":636.9552735787,"46":652.6902705283,"47":648.053442323,"48":665.9569134189,"49":646.3520849686},"equity_borrowers":{"0":0.0,"1":0.0,"2":0.0,"3":0.0,"4":0.0,"5":0.0,"6":4.5434901354,"7":0.0,"8":0.0,"9":0.0,"10":0.0,"11":0.0,"12":0.0,"13":0.0,"14":0.0,"15":0.0,"16":0.0,"17":0.0,"18":0.0,"19":0.0,"20":0.0,"21":0.0,"22":0.0,"23":0.0,"24":0.0,"25":0.0,"26":0.0,"27":0.0,"28":0.0,"29":0.0,"30":0.0,"31":0.0,"32":0.0,"33":0.0,"34":0.0,"35":0.0,"36":0.0,"37":0.0,"38":0.0,"39":0.0,"40":0.0,"41":0.0,"42":0.0,"43":0.0,"44":0.0,"45":0.0,"46":0.0,"47":0.0,"48":0.0,"49":0.0},"bankruptcies":{"0":10,"1":7,"2":11,"3":8,"4":10,"5":12,"6":6,"7":8,"8":12,"9":3,"10":7,"11":7,"12":3,"13":2,"14":6,"15":4,"16":6,"17":1,"18":5,"19":4,"20":3,"21":2,"22":3,"23":1,"24":5,"25":6,"26":4,"27":5,"28":5,"29":5,"30":2,"31":6,"32":2,"33":5,"34":4,"35":6,"36":5,"37":7,"38":4,"39":5,"40":2,"41":3,"42":1,"43":3,"44":3,"45":3,"46":4,"47":2,"48":4,"49":5},"potential_credit_channels":{"0":50,"1":50,"2":50,"3":50,"4":50,"5":50,"6":50,"7":50,"8":50,"9":50,"10":50,"11":50,"12":50,"13":50,"14":50,"15":50,"16":50,"17":50,"18":50,"19":50,"20":50,"21":50,"22":50,"23":50,"24":50,"25":50,"26":50,"27":50,"28":50,"29":50,"30":50,"31":50,"32":50,"33":50,"34":50,"35":50,"36":50,"37":50,"38":50,"39":50,"40":50,"41":50,"42":50,"43":50,"44":50,"45":50,"46":50,"47":50,"48":50,"49":50},"prob_change_lender":{"0":0.5089976232,"1":0.4664148717,"2":0.4810335103,"3":0.4687731388,"4":0.4362622112,"5":0.4229079017,"6":0.3911261065,"7":0.3470550729,"8":0.3856570273,"9":0.3965073539,"10":0.3447488828,"11":0.3803232882,"12":0.4227821264,"13":0.3270466187,"14":0.3792715182,"15":0.4316925948,"16":0.3675587371,"17":0.3963331393,"18":0.3306368393,"19":0.301613399,"20":0.3049040145,"21":0.3313866239,"22":0.3526129983,"23":0.3702548264,"24":0.3594202151,"25":0.3242770919,"26":0.3173613949,"27":0.2984805886,"28":0.3733252646,"29":0.3589684465,"30":0.3601874287,"31":0.3718509666,"32":0.38912799,"33":0.3865905012,"34":0.3951038701,"35":0.3755159416,"36":0.3962829489,"37":0.3668400103,"38":0.3528033865,"39":0.3577613812,"40":0.3378344774,"41":0.3272824713,"42":0.3399008437,"43":0.3020075976,"44":0.3063810903,"45":0.2824101873,"46":0.303666376,"47":0.3100562165,"48":0.3600756706,"49":0.4129366903},"best_lender":{"0":39,"1":18,"2":2,"3":6,"4":37,"5":37,"6":39,"7":45,"8":45,"9":25,"10":4,"11":4,"12":1,"13":1,"14":1,"15":1,"16":46,"17":46,"18":49,"19":49,"20":7,"21":21,"22":49,"23":7,"24":7,"25":2,"26":2,"27":2,"28":2,"29":2,"30":49,"31":12,"32":12,"33":12,"34":12,"35":12,"36":12,"37":34,"38":34,"39":34,"40":34,"41":32,"42":32,"43":32,"44":32,"45":32,"46":34,"47":32,"48":32,"49":34},"policy":{"0":1.0,"1":1.0,"2":1.0,"3":1.0,"4":1.0,"5":1.0,"6":1.0,"7":1.0,"8":1.0,"9":1.0,"10":1.0,"11":1.0,"12":1.0,"13":1.0,"14":1.0,"15":1.0,"16":1.0,"17":1.0,"18":1.0,"19":1.0,"20":1.0,"21":1.0,"22":1.0,"23":1.0,"24":1.0,"25":1.0,"26":1.0,"27":1.0,"28":1.0,"29":1.0,"30":1.0,"31":1.0,"32":1.0,"33":1.0,"34":1.0,"35":1.0,"36":1.0,"37":1.0,"38":1.0,"39":1.0,"40":1.0,"41":1.0,"42":1.0,"43":1.0,"44":1.0,"45":1.0,"46":1.0,"47":1.0,"48":1.0,"49":1.0},"fitness":{"0":0.0,"1":0.297854821,"2":0.2581636911,"3":0.3342366711,"4":0.2329939798,"5":0.1334570663,"6":0.1342106597,"7":0.2072690194,"8":0.309915939,"9":0.3170839871,"10":0.1615171219,"11":0.2616621503,"12":0.2763093261,"13":0.2249802074,"14":0.1895336944,"15":0.1500210134,"16":0.1456809487,"17":0.1330930317,"18":0.138170025,"19":0.2229184753,"20":0.2182690522,"21":0.2230254712,"22":0.1818696813,"23":0.2129598027,"24":0.1837766636,"25":0.1506898851,"26":0.2074667246,"27":0.1994215014,"28":0.2192295322,"29":0.1825561334,"30":0.196919302,"31":0.1430310091,"32":0.1608386454,"33":0.1511742242,"34":0.1864910097,"35":0.1731569771,"36":0.1602646955,"37":0.1744266624,"38":0.1178842676,"39":0.1006212436,"40":0.0834750184,"41":0.1191339718,"42":0.1032523872,"43":0.0907853739,"44":0.0837317689,"45":0.1203220869,"46":0.1120279973,"47":0.1412221759,"48":0.0871252401,"49":0.1891062613},"best_lender_clients":{"0":3,"1":3,"2":3,"3":3,"4":4,"5":6,"6":5,"7":8,"8":4,"9":5,"10":6,"11":8,"12":5,"13":5,"14":6,"15":5,"16":6,"17":7,"18":8,"19":8,"20":8,"21":8,"22":8,"23":7,"24":5,"25":6,"26":6,"27":7,"28":8,"29":5,"30":6,"31":5,"32":8,"33":6,"34":5,"35":8,"36":8,"37":9,"38":8,"39":7,"40":7,"41":7,"42":7,"43":9,"44":10,"45":11,"46":10,"47":12,"48":13,"49":10},"rationing":{"0":5.2887175427,"1":3.2998474642,"2":3.8835292389,"3":4.3085051653,"4":0.0,"5":0.0,"6":1.7674384633,"7":0.0,"8":4.7919146969,"9":1.5929667707,"10":0.0,"11":1.2190356439,"12":5.1969661568,"13":0.0,"14":0.0,"15":0.0,"16":0.0,"17":4.0661019691,"18":2.8899254106,"19":0.0,"20":0.0,"21":0.0,"22":0.0,"23":0.0,"24":0.0,"25":0.0,"26":2.2868955995,"27":0.0,"28":0.0,"29":2.9559210633,"30":5.7568294153,"31":3.6208429982,"32":2.0517168292,"33":0.0,"34":0.0,"35":0.0,"36":0.0,"37":0.0,"38":2.0082480895,"39":0.0,"40":0.0,"41":0.0,"42":4.362693289,"43":0.0,"44":0.0,"45":0.0,"46":3.3275283926,"47":0.0,"48":0.0,"49":4.1174507357},"leverage":{"0":0.2110013371,"1":0.129854489,"2":0.0,"3":1.1281924088,"4":4.2315146769,"5":0.3635858436,"6":0.0,"7":0.2913437679,"8":0.1325835462,"9":1.0309209257,"10":0.6604870016,"11":0.0,"12":0.0,"13":0.0,"14":0.0,"15":0.3771493762,"16":0.0,"17":0.0,"18":0.0,"19":0.0,"20":0.0,"21":0.3308326198,"22":0.0,"23":1.7014594268,"24":0.30746226,"25":0.0,"26":0.0,"27":0.0,"28":0.3809198313,"29":0.0,"30":3.1887175806,"31":0.0,"32":0.0,"33":0.6322302583,"34":0.0946060382,"35":0.9281722514,"36":0.0,"37":0.0,"38":0.0,"39":0.5883386879,"40":0.6865646697,"41":0.3412714223,"42":1.0572370997,"43":0.0,"44":0.0,"45":0.1340551667,"46":0.0,"47":0.0,"48":0.2751472895,"49":0.8078209222},"systemic_leverage":{"0":0.0042200267,"1":0.0025970898,"2":0.0,"3":0.0225638482,"4":0.1692605871,"5":0.0072717169,"6":0.0,"7":0.0116537507,"8":0.0026516709,"9":0.041236837,"10":0.0264194801,"11":0.0,"12":0.0,"13":0.0,"14":0.0,"15":0.0075429875,"16":0.0,"17":0.0,"18":0.0,"19":0.0,"20":0.0,"21":0.0066166524,"22":0.0,"23":0.0340291885,"24":0.0061492452,"25":0.0,"26":0.0,"27":0.0,"28":0.0076183966,"29":0.0,"30":0.0637743516,"31":0.0,"32":0.0,"33":0.0126446052,"34":0.0018921208,"35":0.0556903351,"36":0.0,"37":0.0,"38":0.0,"39":0.0117667738,"40":0.0137312934,"41":0.0068254284,"42":0.021144742,"43":0.0,"44":0.0,"45":0.0026811033,"46":0.0,"47":0.0,"48":0.0110058916,"49":0.0323128369},"loans":{"0":7.4587751659,"1":8.4245692459,"2":21.6293068111,"3":19.2498093887,"4":12.1180224587,"5":11.9296591215,"6":10.6099125457,"7":6.8215611155,"8":10.5103049943,"9":9.6324960131,"10":11.1705655597,"11":9.9528679034,"12":null,"13":null,"14":11.6889155324,"15":8.4418564243,"16":7.8417590174,"17":null,"18":5.9357052483,"19":8.7138107867,"20":null,"21":4.7472691423,"22":null,"23":9.7427208807,"24":4.2828020968,"25":10.7483719233,"26":13.075297386,"27":23.0056461341,"28":16.1723372677,"29":14.6768492317,"30":7.3287160667,"31":13.4133695788,"32":7.9233685256,"33":8.0591532433,"34":2.5127896896,"35":9.166051194,"36":4.9590248007,"37":null,"38":8.6439406093,"39":4.9327432066,"40":10.1589741907,"41":4.976887011,"42":8.0031435325,"43":30.3017342369,"44":25.4543122251,"45":3.3565212574,"46":9.2892907641,"47":null,"48":42.7709495273,"49":30.5813219218},"reserves":{"0":144.5327200368,"1":146.0727978666,"2":148.8507684028,"3":149.8032097947,"4":153.0685983869,"5":155.9055613757,"6":162.0152784289,"7":155.7183757826,"8":161.6003078523,"9":161.8090213492,"10":169.7417051455,"11":169.0162273209,"12":179.771297571,"13":182.2929109312,"14":183.9529108196,"15":186.3872860851,"16":198.0050947375,"17":202.6845403808,"18":202.2582051516,"19":205.5078820996,"20":207.1713091154,"21":212.6705523568,"22":223.7226123296,"23":249.416332491,"24":239.8192303336,"25":238.2577454037,"26":242.1473133994,"27":219.5914031443,"28":213.9647432807,"29":203.8200859851,"30":223.3435216837,"31":206.8952028739,"32":206.1425517108,"33":209.7969392637,"34":223.9260110884,"35":239.6782558218,"36":230.8832253368,"37":227.4608166541,"38":230.8165689834,"39":259.6099405436,"40":279.427071398,"41":291.4298176006,"42":290.4931059794,"43":293.0788174382,"44":258.3834885886,"45":280.9812056249,"46":262.7502338639,"47":278.093279888,"48":237.5288190688,"49":232.7692843056},"deposits":{"0":7226.636001842,"1":7303.6398933311,"2":7442.5384201401,"3":7490.1604897351,"4":7653.4299193445,"5":7795.278068786,"6":8100.7639214461,"7":7785.9187891291,"8":8080.0153926157,"9":8090.4510674608,"10":8487.0852572727,"11":8450.8113660434,"12":8988.5648785522,"13":9114.6455465584,"14":9197.645540978,"15":9319.3643042545,"16":9900.2547368733,"17":10134.2270190386,"18":10112.9102575786,"19":10275.3941049784,"20":10358.5654557716,"21":10633.5276178406,"22":11186.1306164824,"23":12470.8166245477,"24":11990.9615166792,"25":11912.8872701826,"26":12107.3656699723,"27":10979.5701572158,"28":10698.2371640355,"29":10191.0042992546,"30":11167.1760841836,"31":10344.7601436938,"32":10307.127585538,"33":10489.8469631848,"34":11196.300554419,"35":11983.9127910892,"36":11544.1612668383,"37":11373.040832703,"38":11540.8284491711,"39":12980.4970271806,"40":13971.3535698982,"41":14571.4908800307,"42":14524.6552989715,"43":14653.9408719119,"44":12919.174429431,"45":14049.0602812472,"46":13137.5116931969,"47":13904.6639943981,"48":11876.4409534393,"49":11638.4642152779},"active_lenders":{"0":6,"1":4,"2":2,"3":4,"4":5,"5":7,"6":4,"7":4,"8":5,"9":2,"10":5,"11":1,"12":0,"13":0,"14":1,"15":2,"16":1,"17":0,"18":2,"19":2,"20":0,"21":1,"22":0,"23":1,"24":1,"25":1,"26":1,"27":1,"28":2,"29":1,"30":1,"31":2,"32":1,"33":2,"34":3,"35":4,"36":1,"37":0,"38":3,"39":3,"40":1,"41":1,"42":1,"43":1,"44":2,"45":2,"46":1,"47":0,"48":1,"49":2},"active_borrowers":{"0":7,"1":4,"2":2,"3":5,"4":6,"5":7,"6":4,"7":4,"8":5,"9":2,"10":6,"11":1,"12":0,"13":0,"14":1,"15":2,"16":1,"17":0,"18":2,"19":2,"20":0,"21":1,"22":0,"23":1,"24":1,"25":1,"26":1,"27":1,"28":3,"29":1,"30":1,"31":3,"32":1,"33":2,"34":3,"35":5,"36":1,"37":0,"38":3,"39":3,"40":1,"41":1,"42":1,"43":1,"44":2,"45":2,"46":1,"47":0,"48":4,"49":4},"prob_bankruptcy":{"0":0.0,"1":0.4170161009,"2":0.3924391296,"3":0.5024493783,"4":0.2869700969,"5":0.4129799256,"6":0.3657356909,"7":0.5152105377,"8":0.4686596808,"9":0.3446690405,"10":0.452465896,"11":0.472596704,"12":0.0,"13":0.0,"14":0.1666543751,"15":0.1666543751,"16":0.1666543751,"17":0.0,"18":0.1666543751,"19":0.1666543751,"20":0.0,"21":0.1666543751,"22":0.0,"23":0.1666543751,"24":0.0,"25":0.0666115011,"26":0.6223450241,"27":0.0666115011,"28":0.2845094278,"29":0.0666115011,"30":0.0,"31":0.3546645262,"32":0.6304943308,"33":0.0052088695,"34":0.2288289749,"35":0.1380327782,"36":0.1164841675,"37":0.0,"38":0.1275808566,"39":0.5537409964,"40":0.0156186208,"41":0.0156186208,"42":0.0156186208,"43":0.5032243023,"44":0.1075652071,"45":0.0156186208,"46":0.0206749665,"47":0.0,"48":0.1853607452,"49":0.0930797245},"num_banks":{"0":50,"1":50,"2":50,"3":50,"4":50,"5":50,"6":50,"7":50,"8":50,"9":50,"10":50,"11":50,"12":50,"13":50,"14":50,"15":50,"16":50,"17":50,"18":50,"19":50,"20":50,"21":50,"22":50,"23":50,"24":50,"25":50,"26":50,"27":50,"28":50,"29":50,"30":50,"31":50,"32":50,"33":50,"34":50,"35":50,"36":50,"37":50,"38":50,"39":50,"40":50,"41":50,"42":50,"43":50,"44":50,"45":50,"46":50,"47":50,"48":50,"49":50},"bankruptcy_rationed":{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0}}'

    def setUp(self):
        model = interbank.Model()
        model.log.define_log('ERROR')
        model.config.lender_change = self.ALGORITHM()
        model.configure(N=self.N, T=self.T)
        model.initialize(seed=self.SEED, output_directory='tests',
                         export_datafile='test_whole_execution_boltzmann')
        model.simulate_full()
        self.generated_now_values = model.finish()

    def test_values_after_execution(self):
        self.assertEqual(self.generated_now_values.to_json(), self.RESULTS_TO_COMPARE)


if __name__ == '__main__':
    unittest.main()
