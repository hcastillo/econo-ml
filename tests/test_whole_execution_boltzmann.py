# -*- coding: utf-8 -*-

import unittest
import interbank
import interbank_lenderchange


class WholeExecution(unittest.TestCase):
    N = 50
    T = 50
    T_LONG = 1000

    maxDiff = None

    ALGORITHM = interbank_lenderchange.Boltzmann
    P = 0.5

    SEED = 39393

    RESULTS_TO_COMPARE = '{"bad_debt":{"0":48.7986069124,"1":0.0,"2":40.3569302105,"3":33.7254024392,"4":35.2308440476,"5":46.892739425,"6":31.8403192407,"7":36.4440545215,"8":8.5571299198,"9":26.0939411335,"10":100.7649009739,"11":47.5555616896,"12":16.5399507193,"13":57.249379716,"14":0.3671216908,"15":48.4241642838,"16":10.3124648977,"17":15.8198801703,"18":37.6234624542,"19":31.5910424791,"20":0.0,"21":54.2434222484,"22":12.0677325831,"23":9.4314744261,"24":5.1013711814,"25":44.0049168356,"26":13.211251141,"27":15.307097276,"28":25.6016096932,"29":38.7182051805,"30":43.6184281777,"31":19.1542387993,"32":53.9840256268,"33":0.2704062583,"34":9.7768027686,"35":17.1711505479,"36":18.0863781585,"37":12.0055699489,"38":15.4836907571,"39":68.8833032593,"40":0.0,"41":6.2935373366,"42":2.406117372,"43":50.620312489,"44":0.0,"45":26.7804022888,"46":3.0385832133,"47":29.4712051526,"48":0.0,"49":15.7674959239},"liquidity":{"0":1718.1609666649,"1":2107.8838942158,"2":2533.4481436638,"3":2764.0825230054,"4":3125.3525165639,"5":3087.0551880077,"6":3815.512922462,"7":3850.942613946,"8":3662.2690119047,"9":3335.4070883723,"10":3229.6752350609,"11":3062.3581849061,"12":3643.5736950717,"13":4119.9572409012,"14":4168.618118069,"15":4812.3565792855,"16":5299.6549527501,"17":5426.8392026026,"18":5018.3497431695,"19":4666.5023115543,"20":4406.3599377646,"21":4877.8017740911,"22":4870.1155905278,"23":5587.5744161076,"24":6659.3349649199,"25":6465.6718496331,"26":7327.7472385184,"27":8109.8740126122,"28":7153.3470642378,"29":7545.4195573171,"30":7991.6973556568,"31":9422.6204828869,"32":10297.6966378272,"33":10634.0365192731,"34":11384.5237072481,"35":12165.5265767234,"36":12483.0339265039,"37":13165.6089727783,"38":14563.9847286294,"39":14642.2902741919,"40":15280.3440459089,"41":16620.9376473094,"42":16297.3327009298,"43":15245.2174370491,"44":13669.3616805741,"45":13056.6627216394,"46":11736.4966775907,"47":12114.0336922997,"48":12216.0103521236,"49":14125.4874648809},"interest_rate":{"0":0.02,"1":1.5541867561,"2":1.5772186883,"3":0.0795883025,"4":4.6515303247,"5":0.0826073761,"6":0.0400032304,"7":0.2407085891,"8":0.0514690499,"9":0.0336077871,"10":0.2093837302,"11":0.4726046506,"12":0.1589208039,"13":0.0853490197,"14":0.0487677759,"15":0.4658983964,"16":0.0255008064,"17":0.0287241323,"18":0.0435652432,"19":0.4167321607,"20":0.0,"21":17.2936846678,"22":1.3757823146,"23":0.02,"24":0.0189830353,"25":0.9820145409,"26":0.0442412372,"27":0.1313670005,"28":0.1165886618,"29":0.02,"30":0.0356737154,"31":0.2308801894,"32":0.5324736778,"33":3.1455540209,"34":0.0896961484,"35":0.0673986621,"36":0.0133426305,"37":3.0347376931,"38":4.0749277075,"39":0.065255229,"40":0.0513778385,"41":0.9797730156,"42":0.0947566077,"43":7.4802429199,"44":0.0103436212,"45":0.0622559431,"46":0.0215295126,"47":0.02,"48":0.0,"49":0.1961000733},"asset_i":{"0":0.0,"1":2.3176479022,"2":2.3794461528,"3":2.4795393678,"4":2.4719229494,"5":2.5253587663,"6":2.8263647628,"7":2.7161790157,"8":2.8419940401,"9":2.6588887977,"10":2.854130553,"11":2.6583283285,"12":2.875875791,"13":2.892474698,"14":3.2536087592,"15":3.058335827,"16":3.4096858143,"17":3.4056933762,"18":3.3890822458,"19":2.7545482004,"20":2.8012504227,"21":3.1117801737,"22":3.1322901297,"23":2.9282537856,"24":3.7233153736,"25":4.1664855504,"26":3.8338183143,"27":4.2216120197,"28":4.3502174282,"29":3.9383765186,"30":4.2532302799,"31":4.7723382713,"32":5.6879064632,"33":4.7542143454,"34":6.2893353932,"35":5.4269376256,"36":5.7828701051,"37":4.5557531385,"38":6.5352998579,"39":4.9873902955,"40":5.2678681818,"41":8.3699570016,"42":4.4141218933,"43":6.6713158624,"44":5.5346565936,"45":5.1521089554,"46":4.0718667216,"47":5.1767117898,"48":4.6853529215,"49":5.7106216825},"asset_j":{"0":0.0,"1":3.8747445394,"2":4.3401843577,"3":4.4325236125,"4":4.5928569707,"5":4.7819493605,"6":4.7399755001,"7":5.1359927969,"8":5.2407307143,"9":5.0822421224,"10":4.9574934715,"11":4.9608783299,"12":4.9966597632,"13":5.2341394743,"14":5.5262909681,"15":5.5047134899,"16":5.8185888367,"17":6.0709740473,"18":6.1498819091,"19":5.9779154226,"20":5.8974028547,"21":5.778161687,"22":6.0445996152,"23":6.0290149401,"24":6.4353487496,"25":6.9110895825,"26":6.9148610983,"27":7.2287038477,"28":7.6759249761,"29":7.176729898,"30":7.431993843,"31":7.6044742836,"32":8.4552261433,"33":8.8366386888,"34":9.1005126864,"35":9.311980113,"36":9.6753914568,"37":9.8744690649,"38":10.2728214346,"39":10.8644118244,"40":10.995034193,"41":11.4006088905,"42":11.908544176,"43":11.91937055,"44":11.4206302151,"45":10.5681411786,"46":10.3059275513,"47":9.5903226497,"48":9.8561784216,"49":9.9592474316},"equity":{"0":679.2860551555,"1":673.8759944609,"2":634.0887028458,"3":586.6219325469,"4":591.0576415057,"5":559.8138124743,"6":525.1931126288,"7":512.9200369711,"8":514.4430983316,"9":488.5977877465,"10":447.4581802425,"11":415.1075017886,"12":398.5675510693,"13":364.872614589,"14":383.8858965596,"15":402.0766513331,"16":381.6457231263,"17":369.1984860357,"18":332.8256415289,"19":302.6191669031,"20":306.8222839202,"21":271.9760231238,"22":274.1565827737,"23":270.5643268913,"24":262.8590614329,"25":229.8011545252,"26":286.1043286465,"27":276.9159227464,"28":228.6173541588,"29":248.1674748215,"30":250.032178676,"31":232.6267412423,"32":171.4018947363,"33":175.1361119988,"34":282.066597648,"35":265.608344803,"36":231.3934526724,"37":237.4725206587,"38":228.9401352447,"39":149.207402227,"40":173.3062040082,"41":167.5140628511,"42":146.7289357959,"43":114.4876329901,"44":114.4876329901,"45":87.7072307012,"46":148.1237165735,"47":117.1988012724,"48":101.7282006106,"49":86.2502422503},"equity_borrowers":{"0":14.9369656057,"1":10.8611742781,"2":20.2309489098,"3":27.5422144724,"4":17.245742991,"5":14.1543332635,"6":14.8541035087,"7":0.0,"8":22.1393123877,"9":14.6903135952,"10":14.9594044103,"11":0.0,"12":32.2660274754,"13":0.0,"14":39.3156605015,"15":30.3149623538,"16":34.5639647348,"17":14.9298122772,"18":14.9612416354,"19":0.0,"20":0.0,"21":0.0,"22":0.0,"23":0.0,"24":11.3262522284,"25":0.0,"26":27.4697278673,"27":0.0,"28":15.4495112901,"29":0.0,"30":29.6216275093,"31":0.0,"32":31.551113863,"33":0.0,"34":0.0,"35":14.3231584167,"36":0.0,"37":0.0,"38":20.6745354369,"39":2.4728793552,"40":7.1886885971,"41":7.4712484448,"42":0.0,"43":0.0,"44":14.8498185656,"45":-7.1985923187,"46":14.727886393,"47":0.0,"48":0.0,"49":14.0364407675},"bankruptcies":{"0":11,"1":5,"2":6,"3":5,"4":6,"5":11,"6":6,"7":5,"8":7,"9":2,"10":10,"11":10,"12":4,"13":7,"14":3,"15":8,"16":4,"17":4,"18":5,"19":6,"20":3,"21":9,"22":3,"23":5,"24":1,"25":4,"26":6,"27":6,"28":6,"29":6,"30":5,"31":1,"32":5,"33":4,"34":8,"35":4,"36":7,"37":2,"38":1,"39":6,"40":4,"41":2,"42":1,"43":3,"44":0,"45":2,"46":6,"47":3,"48":2,"49":2},"potential_credit_channels":{"0":50,"1":50,"2":50,"3":50,"4":50,"5":50,"6":50,"7":50,"8":50,"9":50,"10":50,"11":50,"12":50,"13":50,"14":50,"15":50,"16":50,"17":50,"18":50,"19":50,"20":50,"21":50,"22":50,"23":50,"24":50,"25":50,"26":50,"27":50,"28":50,"29":50,"30":50,"31":50,"32":50,"33":50,"34":50,"35":50,"36":50,"37":50,"38":50,"39":50,"40":50,"41":50,"42":50,"43":50,"44":50,"45":50,"46":50,"47":50,"48":50,"49":50},"prob_change_lender":{"0":0.5347325506,"1":0.4396632439,"2":0.3569299324,"3":0.4096670956,"4":0.4097639779,"5":0.389223821,"6":0.3749366475,"7":0.2977517842,"8":0.3795506951,"9":0.3325497573,"10":0.3436879596,"11":0.2815696108,"12":0.3484877127,"13":0.279243918,"14":0.3224349961,"15":0.3116837913,"16":0.2621731861,"17":0.203458312,"18":0.2504019111,"19":0.2870453085,"20":0.2666539727,"21":0.2902341268,"22":0.328327191,"23":0.3261882759,"24":0.3248410851,"25":0.3333327433,"26":0.3345456626,"27":0.3188344737,"28":0.3114355295,"29":0.3070367501,"30":0.3091970625,"31":0.2694772837,"32":0.2572539659,"33":0.2357403592,"34":0.2617451953,"35":0.2790650165,"36":0.2873725606,"37":0.2981282088,"38":0.316649809,"39":0.3073809887,"40":0.3023082122,"41":0.3139967529,"42":0.2894760305,"43":0.2975225961,"44":0.2863793403,"45":0.2712814322,"46":0.271937652,"47":0.2433241161,"48":0.2234403077,"49":0.2040395411},"best_lender":{"0":27,"1":31,"2":0,"3":0,"4":0,"5":2,"6":2,"7":33,"8":8,"9":2,"10":46,"11":2,"12":2,"13":2,"14":8,"15":11,"16":2,"17":2,"18":11,"19":11,"20":11,"21":11,"22":11,"23":47,"24":47,"25":40,"26":40,"27":40,"28":11,"29":40,"30":11,"31":11,"32":11,"33":2,"34":2,"35":40,"36":40,"37":40,"38":40,"39":40,"40":40,"41":40,"42":40,"43":40,"44":40,"45":2,"46":40,"47":2,"48":2,"49":2},"policy":{"0":1.0,"1":1.0,"2":1.0,"3":1.0,"4":1.0,"5":1.0,"6":1.0,"7":1.0,"8":1.0,"9":1.0,"10":1.0,"11":1.0,"12":1.0,"13":1.0,"14":1.0,"15":1.0,"16":1.0,"17":1.0,"18":1.0,"19":1.0,"20":1.0,"21":1.0,"22":1.0,"23":1.0,"24":1.0,"25":1.0,"26":1.0,"27":1.0,"28":1.0,"29":1.0,"30":1.0,"31":1.0,"32":1.0,"33":1.0,"34":1.0,"35":1.0,"36":1.0,"37":1.0,"38":1.0,"39":1.0,"40":1.0,"41":1.0,"42":1.0,"43":1.0,"44":1.0,"45":1.0,"46":1.0,"47":1.0,"48":1.0,"49":1.0},"fitness":{"0":0.0,"1":0.2984385464,"2":0.2743317455,"3":0.1760340379,"4":0.1936203361,"5":0.192916833,"6":0.2331504726,"7":0.3343321355,"8":0.2578938931,"9":0.2496679457,"10":0.191663667,"11":0.2450397164,"12":0.1967162278,"13":0.1663774473,"14":0.1803805206,"15":0.1485070749,"16":0.1324742545,"17":0.1706782741,"18":0.2243687594,"19":0.1997941931,"20":0.2094298117,"21":0.2566797813,"22":0.178678836,"23":0.1392509167,"24":0.1724987508,"25":0.1517256177,"26":0.1180209843,"27":0.0942566157,"28":0.1349481394,"29":0.1400552771,"30":0.1308631554,"31":0.1567854814,"32":0.1573096487,"33":0.1265738645,"34":0.1252720464,"35":0.1040564003,"36":0.1084388315,"37":0.0985988645,"38":0.0674296929,"39":0.0570819594,"40":0.0667859389,"41":0.06609119,"42":0.0672713447,"43":0.0782177949,"44":0.0677493194,"45":0.0884155771,"46":0.0813585352,"47":0.1078118267,"48":0.1001073792,"49":0.1183149532},"best_lender_clients":{"0":5,"1":3,"2":6,"3":5,"4":5,"5":6,"6":5,"7":5,"8":4,"9":6,"10":5,"11":6,"12":6,"13":6,"14":6,"15":6,"16":7,"17":7,"18":6,"19":7,"20":7,"21":6,"22":6,"23":6,"24":6,"25":6,"26":7,"27":8,"28":8,"29":6,"30":6,"31":7,"32":7,"33":7,"34":7,"35":9,"36":10,"37":10,"38":11,"39":10,"40":11,"41":11,"42":11,"43":12,"44":11,"45":12,"46":11,"47":14,"48":14,"49":14},"rationing":{"0":8.7678576826,"1":94.5238162879,"2":17.7307911694,"3":23.7432521249,"4":10.0381578086,"5":91.0119702105,"6":45.0910984357,"7":11.5264045938,"8":34.0368498088,"9":19.9549248313,"10":33.3541815601,"11":26.2547309797,"12":11.090501495,"13":39.0262008923,"14":66.7530799829,"15":29.4352552626,"16":0.2672461612,"17":3.5735104333,"18":8.3835437424,"19":46.55752334,"20":44.1661017465,"21":34.7935992569,"22":25.6104124181,"23":45.6693923592,"24":0.0,"25":7.9880812192,"26":25.33105755,"27":19.3872602035,"28":51.6763156727,"29":44.9062857469,"30":7.7071090466,"31":0.0,"32":26.1345013744,"33":49.4721433104,"34":76.6359111102,"35":49.9368130465,"36":62.1616826921,"37":12.8935758451,"38":0.1300244023,"39":23.2712229397,"40":67.3152199064,"41":16.0462086324,"42":7.5454403939,"43":0.0,"44":0.0,"45":7.8756137081,"46":66.6801479626,"47":17.9617074193,"48":33.0611864825,"49":7.5789360479},"leverage":{"0":0.2110013371,"1":0.081354477,"2":0.5949576641,"3":0.3318112576,"4":0.5845516006,"5":0.5863410124,"6":0.3612900076,"7":0.0,"8":1.2124075168,"9":0.6383587014,"10":0.0684126402,"11":0.0,"12":1.3747542414,"13":0.0691383836,"14":0.1644526386,"15":0.2395771711,"16":0.8550091027,"17":0.4270999693,"18":0.3442340987,"19":0.0,"20":0.0,"21":0.0,"22":0.0,"23":0.0,"24":1.7058954125,"25":0.0,"26":0.9660277367,"27":0.0,"28":20.003213786,"29":0.0,"30":0.4166992507,"31":0.0,"32":0.8094260641,"33":0.0,"34":0.0,"35":0.4399058168,"36":0.0,"37":0.0,"38":0.5249716258,"39":6.6469743571,"40":0.2508179083,"41":0.1965442799,"42":0.0,"43":0.0,"44":0.9777379918,"45":-0.4221079732,"46":0.3590351276,"47":0.0,"48":0.0,"49":0.2557037254},"systemic_leverage":{"0":0.0042200267,"1":0.0032541791,"2":0.0237983066,"3":0.0132724503,"4":0.011691032,"5":0.0117268202,"6":0.0072258002,"7":0.0,"8":0.0484963007,"9":0.012767174,"10":0.0013682528,"11":0.0,"12":0.0824852545,"13":0.0013827677,"14":0.0098671583,"15":0.0095830868,"16":0.0513005462,"17":0.0170839988,"18":0.006884682,"19":0.0,"20":0.0,"21":0.0,"22":0.0,"23":0.0,"24":0.0341179083,"25":0.0,"26":0.0386411095,"27":0.0,"28":0.8001285514,"29":0.0,"30":0.01666797,"31":0.0,"32":0.0485655638,"33":0.0,"34":0.0,"35":0.0087981163,"36":0.0,"37":0.0,"38":0.020998865,"39":0.1329394871,"40":0.0050163582,"41":0.0039308856,"42":0.0,"43":0.0,"44":0.0195547598,"45":-0.0084421595,"46":0.0071807026,"47":0.0,"48":0.0,"49":0.0051140745},"loans":{"0":0.0,"1":0.0,"2":0.0,"3":0.0,"4":0.0,"5":0.0,"6":0.0,"7":0.0,"8":0.0,"9":0.0,"10":0.0,"11":0.0,"12":0.0,"13":0.0,"14":0.0,"15":0.0,"16":0.0,"17":0.0,"18":0.0,"19":0.0,"20":null,"21":0.0,"22":0.0,"23":0.0,"24":0.0,"25":0.0,"26":0.0,"27":0.0,"28":0.0,"29":0.0,"30":0.0,"31":0.0,"32":0.0,"33":0.0,"34":0.0,"35":0.0,"36":0.0,"37":0.0,"38":0.0,"39":0.0,"40":0.0,"41":0.0,"42":0.0,"43":0.0,"44":0.0,"45":0.0,"46":0.0,"47":0.0,"48":null,"49":0.0},"reserves":{"0":141.1038630524,"1":147.7192056203,"2":156.9895054156,"3":161.2717520312,"4":169.548935945,"5":167.0251572884,"6":182.6165423039,"7":183.9546824599,"8":182.2116039783,"9":174.7337859245,"10":174.7577417278,"11":171.4151767263,"12":182.4447314654,"13":193.068656627,"14":191.5089210343,"15":206.2770852942,"16":215.2116581902,"17":217.4134249442,"18":209.4369199648,"19":203.2565249903,"20":196.5461120957,"21":206.5282962218,"22":205.5866352435,"23":221.9980948769,"24":244.2546192405,"25":241.2138585736,"26":258.9235995702,"27":274.9377147494,"28":255.6895665902,"29":262.8691079114,"30":271.8877741639,"31":300.3557338749,"32":319.5416424977,"33":326.2734861665,"34":340.466970044,"35":356.3411667219,"36":362.4831270685,"37":376.477064634,"38":405.0648535075,"39":407.9823355325,"40":420.8349128098,"41":448.9299637878,"42":441.3562565215,"43":422.0160802754,"44":388.9850218003,"45":376.0662775974,"46":349.4304687593,"47":356.7262573997,"48":359.2099315536,"49":397.7246166773},"deposits":{"0":7055.1931526188,"1":7385.9602810169,"2":7849.4752707797,"3":8063.5876015586,"4":8477.4467972508,"5":8351.2578644185,"6":9130.8271151964,"7":9197.7341229929,"8":9110.5801989171,"9":8736.6892962237,"10":8737.8870863884,"11":8570.7588363164,"12":9122.2365732709,"13":9653.4328313517,"14":9575.4460517159,"15":10313.8542647115,"16":10760.5829095115,"17":10870.6712472116,"18":10471.8459982396,"19":10162.8262495168,"20":9827.3056047828,"21":10326.4148110918,"22":10279.3317621758,"23":11099.9047438439,"24":12212.7309620253,"25":12060.6929286822,"26":12946.179978512,"27":13746.8857374714,"28":12784.4783295092,"29":13143.4553955686,"30":13594.3887081939,"31":15017.7866937457,"32":15977.0821248867,"33":16313.6743083255,"34":17023.3485021986,"35":17817.058336096,"36":18124.1563534268,"37":18823.8532316975,"38":20253.2426753772,"39":20399.1167766269,"40":21041.745640488,"41":22446.4981893925,"42":22067.8128260762,"43":21100.8040137723,"44":19449.2510900129,"45":18803.3138798679,"46":17471.5234379628,"47":17836.3128699828,"48":17960.4965776801,"49":19886.2308338669},"active_lenders":{"0":6,"1":2,"2":5,"3":4,"4":4,"5":3,"6":3,"7":3,"8":4,"9":2,"10":6,"11":3,"12":5,"13":3,"14":3,"15":4,"16":3,"17":2,"18":4,"19":2,"20":0,"21":4,"22":1,"23":1,"24":2,"25":2,"26":4,"27":3,"28":3,"29":1,"30":3,"31":1,"32":4,"33":1,"34":1,"35":2,"36":1,"37":1,"38":3,"39":3,"40":1,"41":1,"42":1,"43":2,"44":1,"45":2,"46":1,"47":1,"48":0,"49":2},"active_borrowers":{"0":7,"1":2,"2":6,"3":4,"4":5,"5":4,"6":3,"7":3,"8":4,"9":2,"10":7,"11":4,"12":5,"13":5,"14":4,"15":5,"16":5,"17":4,"18":4,"19":2,"20":0,"21":4,"22":1,"23":1,"24":2,"25":2,"26":4,"27":3,"28":4,"29":2,"30":4,"31":1,"32":5,"33":1,"34":1,"35":2,"36":2,"37":1,"38":3,"39":4,"40":1,"41":2,"42":1,"43":3,"44":1,"45":2,"46":2,"47":1,"48":0,"49":2},"prob_bankruptcy":{"0":0.0,"1":0.4102721146,"2":0.3732779249,"3":0.1640225331,"4":0.5644622372,"5":0.6760605737,"6":0.0533689589,"7":0.5779753379,"8":0.0636215699,"9":0.0533689589,"10":0.6375925891,"11":0.2932591997,"12":0.1360848991,"13":0.8849043424,"14":1.1283383305,"15":0.4779794321,"16":0.0177029863,"17":0.2424756379,"18":0.0340525633,"19":0.337924529,"20":0.0,"21":0.4899274784,"22":0.657806604,"23":0.0,"24":0.0189500739,"25":0.3649003309,"26":0.0,"27":0.1359709195,"28":0.0408358982,"29":2.7995252584,"30":0.7447169551,"31":0.1223473198,"32":0.1685199012,"33":0.8174564384,"34":0.0214980864,"35":0.0214980864,"36":0.1270093265,"37":0.8148268154,"38":0.3287757428,"39":0.4463565703,"40":0.0214980864,"41":0.2171780992,"42":0.0214980864,"43":0.421140223,"44":0.0214980864,"45":0.7435614155,"46":2.0821700254,"47":0.0392489988,"48":0.0,"49":0.0214980864},"num_banks":{"0":50,"1":50,"2":50,"3":50,"4":50,"5":50,"6":50,"7":50,"8":50,"9":50,"10":50,"11":50,"12":50,"13":50,"14":50,"15":50,"16":50,"17":50,"18":50,"19":50,"20":50,"21":50,"22":50,"23":50,"24":50,"25":50,"26":50,"27":50,"28":50,"29":50,"30":50,"31":50,"32":50,"33":50,"34":50,"35":50,"36":50,"37":50,"38":50,"39":50,"40":50,"41":50,"42":50,"43":50,"44":50,"45":50,"46":50,"47":50,"48":50,"49":50},"bankruptcy_rationed":{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0}}'

    def setUp(self):
        model = interbank.Model()
        model.log.define_log('ERROR')
        model.config.lender_change = self.ALGORITHM()
        model.configure(N=self.N, T=self.T)
        model.initialize(seed=self.SEED)
        model.simulate_full()
        self.generated_now_values = model.finish()
        ## self.results.to_dict() and save the json to self.RESULTS_TO_COMPARE
        ## also        json.dumps(separators=(',', ':'), obj=self.results.to_json())

        # we also create a gdt file with a whole execution:
        model.configure(T=self.T_LONG)
        model.statistics.define_output_format('gdt')
        model.initialize(seed=self.SEED, output_directory='tests',
                         export_datafile='test_whole_execution_boltzmann')
        model.simulate_full(interactive=True)
        model.finish()

    def test_values_after_execution(self):
        self.assertEqual(self.generated_now_values.to_json(), self.RESULTS_TO_COMPARE)


if __name__ == '__main__':
    unittest.main()
