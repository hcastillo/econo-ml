# -*- coding: utf-8 -*-

import unittest
import interbank
import interbank_lenderchange
import os


class WholeExecution(unittest.TestCase):
    N = 50
    T = 50
    T_LONG = 1000

    maxDiff = None

    ALGORITHM = interbank_lenderchange.Boltzmann
    P = 0.5

    SEED = 39393

    CONFIG = 'C_i0=30 D_i0=135 E_i0=15 L_i0=120 N=50 T=50 alfa=0.1 allow_replacement_of_bankrupted=True beta=5 chi=0.0015 mu=0.7 omega=0.55 phi=0.25 psi=0.0 r_i0=0.02 reintroduce_with_median=False reserves=0.02 rho=0.3 xi=0.9'

    RESULTS_TO_COMPARE = '{"bad_debt":{"0":44.3291870067,"1":36.4000391336,"2":33.2094790748,"3":25.2356864611,"4":14.1205949136,"5":18.517479525,"6":29.4492396967,"7":21.1346298523,"8":9.9160327244,"9":39.4119556928,"10":41.8892045051,"11":13.6665505926,"12":7.4634673988,"13":53.2912660434,"14":23.2040466845,"15":11.3208244104,"16":32.9853665415,"17":24.0063097143,"18":0.0,"19":13.0532278458,"20":64.7022867626,"21":8.4145477967,"22":13.6289236608,"23":63.5019468051,"24":29.970681184,"25":61.536722957,"26":33.0073508032,"27":9.0132418518,"28":22.114300186,"29":56.3420521887,"30":8.3337886728,"31":35.7211398211,"32":42.4781592277,"33":22.8091237349,"34":22.1289536916,"35":0.0,"36":57.9376577514,"37":2.6875912056,"38":11.2238739469,"39":22.5745414711,"40":0.0,"41":13.9553559317,"42":29.1256242766,"43":27.3631475462,"44":15.0756668567,"45":0.0,"46":0.0,"47":8.7078040366,"48":2.2961037548,"49":53.7250049939},"liquidity":{"0":1275.0633156813,"1":1284.501365501,"2":1553.8997720786,"3":1542.9534261914,"4":1863.7873286119,"5":1682.5524677392,"6":1734.0099004535,"7":1659.1538405187,"8":1842.335197279,"9":1684.5880436228,"10":1849.9497859576,"11":2055.1836788619,"12":2559.4710659865,"13":2324.3444741422,"14":2354.9774559437,"15":2122.172273253,"16":1922.378840053,"17":1952.2650031544,"18":2295.3636876047,"19":2077.472536187,"20":2083.239876475,"21":2054.2567922504,"22":1987.8240842486,"23":1927.4843289561,"24":1777.1794224092,"25":1833.5876334859,"26":1924.0789583363,"27":1695.3590460964,"28":1676.9091597673,"29":1818.6631958417,"30":2306.2299825553,"31":2014.1072263013,"32":2243.0694937441,"33":2257.35063686,"34":2042.1257945081,"35":1870.8549003135,"36":1893.4568910979,"37":2444.0381333406,"38":2524.3915765242,"39":2654.5110048328,"40":2549.4732710688,"41":2302.2824672724,"42":2140.2706693735,"43":2049.5874434478,"44":2419.4592344633,"45":2447.6274115763,"46":2216.1002406055,"47":2131.6761141131,"48":1750.6478765711,"49":1651.5847344243},"interest_rate":{"0":0.02,"1":0.02,"2":0.02,"3":0.02,"4":0.02,"5":0.02,"6":0.02,"7":0.02,"8":0.02,"9":0.02,"10":0.02,"11":0.02,"12":0.02,"13":0.02,"14":0.02,"15":0.02,"16":0.02,"17":0.02,"18":0.02,"19":0.02,"20":0.02,"21":0.02,"22":0.02,"23":0.02,"24":0.02,"25":0.02,"26":0.02,"27":0.02,"28":0.02,"29":0.02,"30":0.02,"31":0.02,"32":0.02,"33":0.02,"34":0.02,"35":0.02,"36":0.02,"37":0.02,"38":null,"39":0.02,"40":0.02,"41":0.02,"42":0.02,"43":0.02,"44":0.02,"45":null,"46":null,"47":0.02,"48":0.02,"49":0.02},"asset_i":{"0":0.0,"1":0.26420181,"2":0.2528968698,"3":0.2788908424,"4":0.2484552642,"5":0.3087404355,"6":0.2318358071,"7":0.3144195092,"8":0.39143702,"9":0.3004717825,"10":0.22639499,"11":0.2412578823,"12":0.4122279637,"13":0.3824914614,"14":0.329070353,"15":0.3989952465,"16":0.3419183324,"17":0.3553566276,"18":0.2462108428,"19":0.2905006051,"20":0.3862589556,"21":0.3091399078,"22":0.2737594167,"23":0.3486567428,"24":0.2450869063,"25":0.3141476493,"26":0.3143614027,"27":0.2167669623,"28":0.2986941007,"29":0.2475312071,"30":0.2479999525,"31":0.2775553748,"32":0.2348183409,"33":0.2802433935,"34":0.3266669699,"35":0.2204081633,"36":0.2865665863,"37":0.263115197,"38":null,"39":0.4154144628,"40":0.3264779942,"41":0.4569062087,"42":0.2923616212,"43":0.234846971,"44":0.3053002356,"45":null,"46":null,"47":0.325815775,"48":0.2634435534,"49":0.2699546472},"asset_j":{"0":0.0,"1":38.7130391866,"2":37.9990417151,"3":39.6740635034,"4":40.1034392444,"5":41.2724327848,"6":39.5977282684,"7":39.9824279942,"8":40.1893932155,"9":40.2513991191,"10":40.3876976291,"11":41.3264367778,"12":41.2107494233,"13":43.653704623,"14":43.0352100646,"15":43.2270785512,"16":41.4665615163,"17":40.7650616759,"18":41.3168492948,"19":42.5188577509,"20":42.0458069974,"21":41.9897158694,"22":41.4943853645,"23":42.1742345949,"24":41.7947078072,"25":39.6908081165,"26":40.4970759421,"27":41.0210925229,"28":39.9484793033,"29":40.677819878,"30":40.2870290751,"31":42.5216499163,"32":41.0295237919,"33":41.9878563105,"34":41.9858840614,"35":40.9042783252,"36":40.535883939,"37":40.8773826728,"38":43.4776466083,"39":44.3994075601,"40":44.0336296133,"41":44.1269290994,"42":42.6699062375,"43":41.7736088349,"44":41.4431319541,"45":42.9571471691,"46":44.4950595213,"47":42.8215863688,"48":41.9582315806,"49":40.1558366309},"equity":{"0":710.8686896683,"1":658.28709389,"2":640.0705057121,"3":590.2173273023,"4":565.48377271,"5":596.3669562431,"6":583.1262284516,"7":561.7544017606,"8":604.2410478354,"9":614.4148353303,"10":559.113760292,"11":616.4430595039,"12":603.7297989399,"13":608.9952656878,"14":616.0824405184,"15":607.3753670554,"16":615.6528998066,"17":541.0585266594,"18":565.58614493,"19":603.3039945343,"20":622.206064189,"21":621.9794422183,"22":631.065205447,"23":667.5783821195,"24":667.284029984,"25":588.6982953358,"26":636.3913430532,"27":594.6598615906,"28":586.2808067245,"29":645.7290615888,"30":624.6484946055,"31":641.7580628258,"32":604.8810779314,"33":552.8028752512,"34":551.6410875982,"35":557.2354282934,"36":578.5666572087,"37":612.9763082752,"38":593.4091745085,"39":653.4699849953,"40":612.936970265,"41":600.3436848942,"42":600.5409688974,"43":605.080312896,"44":633.6361789593,"45":581.1072458211,"46":621.1061048676,"47":650.0579187834,"48":587.1670113792,"49":601.2132053301},"equity_borrowers":{"0":90.0,"1":88.1752526625,"2":75.0,"3":44.9286590286,"4":45.0,"5":45.0,"6":45.2229767933,"7":47.6825868658,"8":41.0063597076,"9":36.0257727408,"10":30.0,"11":45.0,"12":28.0403952328,"13":38.5866709792,"14":44.348547669,"15":48.9026578715,"16":64.581960237,"17":26.8406694797,"18":30.0,"19":59.9228789895,"20":75.0169882652,"21":36.896048221,"22":6.9012592195,"23":75.0774417127,"24":60.0,"25":86.4322020341,"26":29.6920573586,"27":18.5264611378,"28":20.9867581482,"29":74.8845805917,"30":60.0,"31":59.9063638944,"32":59.9987012397,"33":42.7564123937,"34":34.7538835474,"35":15.0,"36":59.0677885019,"37":73.7054009529,"38":0.0,"39":42.7224847947,"40":30.0,"41":34.0011572831,"42":37.8968981818,"43":44.6225547975,"44":45.0,"45":0.0,"46":0.0,"47":75.0,"48":44.8625043038,"49":44.918465636},"bankruptcies":{"0":12,"1":9,"2":12,"3":16,"4":14,"5":9,"6":9,"7":15,"8":8,"9":10,"10":9,"11":7,"12":5,"13":8,"14":9,"15":5,"16":8,"17":11,"18":8,"19":12,"20":10,"21":8,"22":10,"23":9,"24":7,"25":8,"26":6,"27":12,"28":12,"29":8,"30":7,"31":8,"32":6,"33":6,"34":4,"35":10,"36":7,"37":7,"38":7,"39":4,"40":9,"41":6,"42":6,"43":8,"44":5,"45":11,"46":8,"47":10,"48":10,"49":12},"potential_credit_channels":{"0":50,"1":50,"2":50,"3":50,"4":50,"5":50,"6":50,"7":50,"8":50,"9":50,"10":50,"11":50,"12":50,"13":50,"14":50,"15":50,"16":50,"17":50,"18":50,"19":50,"20":50,"21":50,"22":50,"23":50,"24":50,"25":50,"26":50,"27":50,"28":50,"29":50,"30":50,"31":50,"32":50,"33":50,"34":50,"35":50,"36":50,"37":50,"38":50,"39":50,"40":50,"41":50,"42":50,"43":50,"44":50,"45":50,"46":50,"47":50,"48":50,"49":50},"prob_change_lender":{"0":0.5077535685,"1":0.4556166804,"2":0.4850708545,"3":0.4920474241,"4":0.3749387406,"5":0.4344439681,"6":0.4165007501,"7":0.4215609869,"8":0.4019620806,"9":0.4058363304,"10":0.4162148063,"11":0.4190878477,"12":0.4443014013,"13":0.3962368223,"14":0.3614072414,"15":0.434047733,"16":0.4440512405,"17":0.4071120682,"18":0.4095890181,"19":0.4580608253,"20":0.4351906665,"21":0.4473801151,"22":0.4371393358,"23":0.4467126542,"24":0.4364101422,"25":0.4226036147,"26":0.4358533208,"27":0.4618831589,"28":0.4493907116,"29":0.4182350386,"30":0.4106188837,"31":0.4321838492,"32":0.4476461046,"33":0.4362891516,"34":0.4623908106,"35":0.4392708182,"36":0.4339714727,"37":0.4275918309,"38":0.3964186187,"39":0.3767578607,"40":0.3733962096,"41":0.4217954045,"42":0.4055832723,"43":0.4208644605,"44":0.452349103,"45":0.4399692595,"46":0.420745887,"47":0.4551993907,"48":0.4419753089,"49":0.4053158445},"best_lender":{"0":27,"1":18,"2":36,"3":24,"4":2,"5":1,"6":24,"7":24,"8":24,"9":24,"10":20,"11":11,"12":11,"13":11,"14":11,"15":11,"16":3,"17":3,"18":3,"19":3,"20":3,"21":3,"22":3,"23":3,"24":3,"25":32,"26":42,"27":14,"28":4,"29":4,"30":4,"31":4,"32":4,"33":37,"34":4,"35":10,"36":10,"37":4,"38":4,"39":4,"40":4,"41":4,"42":4,"43":4,"44":17,"45":17,"46":17,"47":17,"48":7,"49":5},"policy":{"0":1.0,"1":1.0,"2":1.0,"3":1.0,"4":1.0,"5":1.0,"6":1.0,"7":1.0,"8":1.0,"9":1.0,"10":1.0,"11":1.0,"12":1.0,"13":1.0,"14":1.0,"15":1.0,"16":1.0,"17":1.0,"18":1.0,"19":1.0,"20":1.0,"21":1.0,"22":1.0,"23":1.0,"24":1.0,"25":1.0,"26":1.0,"27":1.0,"28":1.0,"29":1.0,"30":1.0,"31":1.0,"32":1.0,"33":1.0,"34":1.0,"35":1.0,"36":1.0,"37":1.0,"38":1.0,"39":1.0,"40":1.0,"41":1.0,"42":1.0,"43":1.0,"44":1.0,"45":1.0,"46":1.0,"47":1.0,"48":1.0,"49":1.0},"fitness":{"0":0.0,"1":0.3565613608,"2":0.341197233,"3":0.3520428659,"4":0.4231439597,"5":0.3843739416,"6":0.385973657,"7":0.3340511387,"8":0.212225474,"9":0.1541172159,"10":0.1902681397,"11":0.2317619738,"12":0.2006029821,"13":0.23149153,"14":0.2794047335,"15":0.2488953142,"16":0.2076450988,"17":0.2444437809,"18":0.1842890383,"19":0.1306667046,"20":0.0983406744,"21":0.1405158003,"22":0.1176195588,"23":0.1266528193,"24":0.2717189267,"25":0.1842408039,"26":0.2208108311,"27":0.2613256285,"28":0.2935864226,"29":0.1770932864,"30":0.2516808435,"31":0.221733878,"32":0.2489424003,"33":0.3341942769,"34":0.2229230282,"35":0.3030946754,"36":0.2903224728,"37":0.3590446953,"38":0.3938042387,"39":0.2459066669,"40":0.2389131769,"41":0.196367301,"42":0.2499973068,"43":0.2327583463,"44":0.3007109048,"45":0.3059028332,"46":0.2254211202,"47":0.2524126449,"48":0.2647407449,"49":0.3513831612},"best_lender_clients":{"0":5,"1":3,"2":4,"3":5,"4":6,"5":4,"6":6,"7":7,"8":6,"9":8,"10":6,"11":5,"12":5,"13":8,"14":8,"15":6,"16":6,"17":5,"18":6,"19":6,"20":9,"21":6,"22":8,"23":5,"24":4,"25":6,"26":5,"27":4,"28":5,"29":7,"30":5,"31":4,"32":5,"33":6,"34":5,"35":6,"36":5,"37":4,"38":6,"39":7,"40":6,"41":7,"42":5,"43":4,"44":4,"45":5,"46":5,"47":5,"48":4,"49":5},"rationing":{"0":16.7705615707,"1":28.5225212622,"2":52.1706827834,"3":66.9287382779,"4":50.0531753911,"5":42.5477264926,"6":19.2701621482,"7":62.9499079586,"8":45.0303841055,"9":15.2706887115,"10":76.8652825041,"11":24.1385029056,"12":21.63134695,"13":14.3124736312,"14":35.1176353575,"15":14.4470995378,"16":14.2910621905,"17":37.2895507471,"18":73.9334760423,"19":39.7505322173,"20":44.3219307987,"21":41.3945613174,"22":45.9740526651,"23":21.6975380809,"24":0.8845932204,"25":11.0748737664,"26":0.0,"27":38.3810811821,"28":61.5010958206,"29":27.3357854132,"30":13.2797090972,"31":0.0,"32":11.6823439366,"33":18.0934204823,"34":0.0,"35":62.8623559081,"36":32.4224064453,"37":36.0990567278,"38":76.7342342093,"39":0.0,"40":9.1039981924,"41":41.6260558571,"42":20.053019606,"43":44.8903884087,"44":24.8622601883,"45":75.6460900176,"46":48.5738639416,"47":19.4332029275,"48":83.3608902587,"49":56.1565050542},"leverage":{"0":0.4925465223,"1":0.544379803,"2":0.4903537019,"3":0.5681176833,"4":0.3934432044,"5":0.5645006489,"6":1.2656529695,"7":0.8157087708,"8":0.6529349133,"9":1.0828397509,"10":1.3963068168,"11":0.3465844465,"12":0.2577201725,"13":2.0618394405,"14":0.7695216999,"15":0.8706580188,"16":0.6458426511,"17":1.2054588823,"18":0.1568487929,"19":0.4094634394,"20":0.8899358981,"21":0.5765825203,"22":1.974845927,"23":0.8453893154,"24":0.7738312325,"25":3.8004418158,"26":1.1162591228,"27":1.6813606413,"28":1.751672297,"29":1.1681668562,"30":0.2180088661,"31":0.6610226072,"32":0.7909225785,"33":0.7500197402,"34":0.9643811594,"35":0.2248923035,"36":1.7185787468,"37":0.5770367403,"38":null,"39":0.7945776159,"40":0.5700730411,"41":1.9839421175,"42":236.7693975524,"43":0.4004829177,"44":0.583869354,"45":null,"46":null,"47":0.2973185693,"48":0.4389678435,"49":1.1758659278},"systemic_leverage":{"0":0.0591055827,"1":0.0653255764,"2":0.0490353702,"3":0.034087061,"4":0.0236065923,"5":0.0338700389,"6":0.1012522376,"7":0.0652567017,"8":0.0391760948,"9":0.0649703851,"10":0.0558522727,"11":0.0207950668,"12":0.0103088069,"13":0.1649471552,"14":0.061561736,"15":0.0696526415,"16":0.0645842651,"17":0.0723275329,"18":0.0062739517,"19":0.0327570751,"20":0.0889935898,"21":0.0345949512,"22":0.0394969185,"23":0.0845389315,"24":0.0619064986,"25":0.5320618542,"26":0.0446503649,"27":0.0672544257,"28":0.0700668919,"29":0.1168166856,"30":0.0174407093,"31":0.0528818086,"32":0.0632738063,"33":0.0450011844,"34":0.0578628696,"35":0.0044978461,"36":0.1718578747,"37":0.057703674,"38":0.0,"39":0.047674657,"40":0.0228029216,"41":0.119036527,"42":18.9415518042,"43":0.0240289751,"44":0.0350321612,"45":0.0,"46":0.0,"47":0.0297318569,"48":0.0263380706,"49":0.0705519557},"num_of_rationed":{"0":6,"1":3,"2":4,"3":6,"4":6,"5":4,"6":1,"7":8,"8":3,"9":4,"10":6,"11":2,"12":1,"13":3,"14":5,"15":2,"16":2,"17":5,"18":6,"19":5,"20":4,"21":4,"22":5,"23":3,"24":1,"25":1,"26":0,"27":6,"28":6,"29":3,"30":3,"31":0,"32":2,"33":2,"34":0,"35":3,"36":3,"37":3,"38":5,"39":0,"40":3,"41":4,"42":3,"43":3,"44":2,"45":5,"46":3,"47":2,"48":7,"49":4},"loans":{"0":8.8658374013,"1":9.5016261923,"2":7.355305529,"3":8.521242702,"4":5.9016480658,"5":8.4675097337,"6":10.809604912,"7":6.4786518128,"8":12.8920271174,"9":19.7059778464,"10":20.9446022526,"11":5.1987666979,"12":3.8482877856,"13":18.9607778256,"14":9.3437263112,"15":8.4905830665,"16":13.2136607951,"17":8.9474010714,"18":2.3527318932,"19":8.1669841759,"20":22.2571871949,"21":5.3525944971,"22":13.6289236608,"23":12.700389361,"24":11.6074684873,"25":21.2236688705,"26":16.5036754016,"27":10.5578659785,"28":11.057150093,"29":17.5082161119,"30":3.2701329914,"31":9.8761779878,"32":11.8635153155,"33":10.7062426328,"34":10.6677199229,"35":3.3733845528,"36":14.9826069346,"37":8.4454387771,"38":null,"39":16.752186744,"40":8.5510956165,"41":16.4640969418,"42":10.0970033246,"43":18.0038228592,"44":8.7580403103,"45":null,"46":null,"47":4.45977854,"48":6.5940029348,"49":17.5879214152},"c":{"0":151.0436387141,"1":148.3471813266,"2":154.3740509391,"3":155.8931575439,"4":160.7124722342,"5":154.0276720226,"6":153.5375868206,"7":156.3838913374,"8":156.0061809994,"9":157.030233403,"10":160.9041852236,"11":160.0475794687,"12":169.8647745707,"13":167.238611489,"14":167.6130370159,"15":160.9883861334,"16":158.2953981082,"17":160.9560089322,"18":164.5623889026,"19":163.6381453857,"20":163.4816537371,"21":158.9313478497,"22":164.5603768027,"23":163.011098744,"24":152.316563353,"25":155.0492643861,"26":159.5152158482,"27":155.5751736213,"28":158.5022710334,"29":156.6500664988,"30":164.7350221064,"31":159.4520318456,"32":162.7128942942,"33":162.9483324653,"34":158.9994601905,"35":157.6909720576,"36":158.9881683722,"37":165.6137118076,"38":172.8091183508,"39":171.1183044721,"40":170.2802341055,"41":165.6981944368,"42":161.3468645769,"43":161.3622748138,"44":167.1081360211,"45":173.136460696,"46":166.8628861459,"47":160.6146669648,"48":153.9697689242,"49":156.3575334472},"reserves":{"0":107.2953855568,"1":109.0085610707,"2":113.8800401434,"3":102.4636435647,"4":115.6838369381,"5":118.9004824271,"6":119.050907929,"7":106.8809557854,"8":125.8526483749,"9":115.3668654416,"10":119.614946483,"11":132.3506338046,"12":147.0825741765,"13":132.3857556129,"14":133.8511991957,"15":135.4868716971,"16":123.6323992731,"17":115.3755890422,"18":132.8878578511,"19":117.8666368914,"20":120.8075127928,"21":130.2001321666,"22":122.8902833643,"23":120.9331634358,"24":121.5324294277,"25":122.0520568848,"26":126.6595358306,"27":111.4914830534,"28":109.7708410554,"29":119.4242234344,"30":135.7320943218,"31":125.2054859661,"32":134.1647226118,"33":133.7840528522,"34":132.959154038,"35":120.7475320536,"36":122.2180718208,"37":140.3764397748,"38":139.8491721769,"39":151.3154901434,"40":138.6066355977,"41":137.3974358669,"42":132.1282017192,"43":125.8274839529,"44":143.7888105382,"45":130.0243125243,"46":131.4711493083,"47":125.8141477132,"48":118.2013307064,"49":107.3087801154},"deposits":{"0":5364.7692778385,"1":5450.428053535,"2":5694.0020071694,"3":5123.1821782327,"4":5784.1918469025,"5":5945.0241213533,"6":5952.5453964511,"7":5344.0477892683,"8":6292.6324187443,"9":5768.3432720809,"10":5980.7473241515,"11":6617.5316902303,"12":7354.1287088272,"13":6619.287780646,"14":6692.5599597852,"15":6774.3435848555,"16":6181.6199636528,"17":5768.7794521078,"18":6644.3928925551,"19":5893.3318445676,"20":6040.3756396425,"21":6510.0066083279,"22":6144.5141682159,"23":6046.6581717876,"24":6076.6214713826,"25":6102.6028442378,"26":6332.97679153,"27":5574.5741526719,"28":5488.5420527681,"29":5971.211171719,"30":6786.6047160921,"31":6260.2742983066,"32":6708.2361305876,"33":6689.2026426096,"34":6647.9577019001,"35":6037.376602681,"36":6110.9035910384,"37":7018.8219887391,"38":6992.4586088426,"39":7565.7745071724,"40":6930.3317798828,"41":6869.8717933434,"42":6606.410085958,"43":6291.3741976428,"44":7189.4405269124,"45":6501.2156262162,"46":6573.5574654133,"47":6290.7073856594,"48":5910.0665353216,"49":5365.4390057675},"active_lenders":{"0":5,"1":5,"2":5,"3":3,"4":3,"5":3,"6":4,"7":4,"8":2,"9":2,"10":2,"11":3,"12":2,"13":3,"14":3,"15":3,"16":3,"17":3,"18":2,"19":3,"20":3,"21":3,"22":1,"23":5,"24":4,"25":4,"26":2,"27":2,"28":2,"29":5,"30":4,"31":4,"32":4,"33":3,"34":3,"35":1,"36":4,"37":5,"38":0,"39":2,"40":2,"41":3,"42":4,"43":1,"44":3,"45":0,"46":0,"47":5,"48":3,"49":3},"active_borrowers":{"0":6,"1":6,"2":5,"3":3,"4":3,"5":3,"6":4,"7":4,"8":3,"9":3,"10":2,"11":3,"12":2,"13":4,"14":4,"15":4,"16":5,"17":3,"18":2,"19":4,"20":5,"21":3,"22":1,"23":5,"24":4,"25":7,"26":2,"27":2,"28":2,"29":5,"30":4,"31":4,"32":4,"33":3,"34":3,"35":1,"36":5,"37":5,"38":0,"39":3,"40":2,"41":3,"42":4,"43":3,"44":3,"45":0,"46":0,"47":5,"48":3,"49":3},"prob_bankruptcy":{"0":0.0,"1":0.0202749704,"2":0.0141045623,"3":0.0156675565,"4":0.0,"5":0.0051894504,"6":0.2462837201,"7":0.2141045568,"8":0.0988545057,"9":0.2083066379,"10":0.0110912665,"11":0.0110912665,"12":0.0756869421,"13":0.3640217345,"14":0.2690555648,"15":0.1939955756,"16":0.1484578066,"17":0.4035406782,"18":0.0,"19":0.0024151659,"20":0.0009050158,"21":0.1800878173,"22":0.5422791644,"23":0.0041090108,"24":0.0050030438,"25":0.1877488897,"26":0.0233857178,"27":0.3906381654,"28":0.3004413951,"29":0.0015389254,"30":0.0121338178,"31":0.0136754835,"32":0.0004529797,"33":0.0561197102,"34":0.2280246067,"35":0.0004313431,"36":0.2127691997,"37":0.0198655639,"38":null,"39":0.0652509595,"40":0.0144349579,"41":0.2553255109,"42":0.3847406767,"43":0.0227015534,"44":0.0070613573,"45":null,"46":null,"47":0.0070613573,"48":0.0103184679,"49":0.0141811401},"num_banks":{"0":50,"1":50,"2":50,"3":50,"4":50,"5":50,"6":50,"7":50,"8":50,"9":50,"10":50,"11":50,"12":50,"13":50,"14":50,"15":50,"16":50,"17":50,"18":50,"19":50,"20":50,"21":50,"22":50,"23":50,"24":50,"25":50,"26":50,"27":50,"28":50,"29":50,"30":50,"31":50,"32":50,"33":50,"34":50,"35":50,"36":50,"37":50,"38":50,"39":50,"40":50,"41":50,"42":50,"43":50,"44":50,"45":50,"46":50,"47":50,"48":50,"49":50},"bankruptcy_rationed":{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0}}'

    def setUp(self):
        model = interbank.Model()
        model.log.define_log('ERROR')
        model.config.lender_change = self.ALGORITHM()
        model.configure_json(self.CONFIG)
        model.configure(N=self.N, T=self.T)
        model.initialize(seed=self.SEED, output_directory='tests',
                         export_datafile='test_whole_execution_boltzmann')
        model.simulate_full()
        self.generated_now_values = model.finish()

    def test_values_after_execution(self):
        self.assertEqual(self.generated_now_values.to_json(), self.RESULTS_TO_COMPARE)


if __name__ == '__main__':
    unittest.main()
