# -*- coding: utf-8 -*-

import unittest
import interbank
import interbank_lenderchange
import os


class WholeExecution(unittest.TestCase):
    N = 50
    T = 50
    T_LONG = 1000

    maxDiff = None

    ALGORITHM = interbank_lenderchange.RestrictedMarket
    P = 0.5

    SEED = 39393

    RESULTS_TO_COMPARE = '{"bad_debt":{"0":0.0,"1":0.0,"2":7.1798000187,"3":2.7217131817,"4":0.0,"5":4.7708536599,"6":0.0,"7":9.3004487019,"8":14.4450690314,"9":0.0,"10":0.0,"11":0.0,"12":4.5397422743,"13":0.0,"14":0.0,"15":2.5008270615,"16":0.0,"17":0.0,"18":0.0,"19":0.0,"20":7.1168194093,"21":0.0,"22":0.0,"23":0.0,"24":0.0,"25":0.0,"26":0.0,"27":9.952333598,"28":0.0,"29":0.0,"30":0.0,"31":0.0,"32":0.0,"33":0.0,"34":0.0,"35":0.0,"36":9.6064926962,"37":0.0,"38":0.0,"39":6.6150619769,"40":15.2142870405,"41":0.0,"42":0.0,"43":0.0,"44":8.1421068768,"45":0.0,"46":0.0,"47":0.0,"48":0.0,"49":0.0},"liquidity":{"0":1611.3021386348,"1":2030.8306772435,"2":2757.8835420911,"3":3083.9040052494,"4":3611.485510227,"5":3504.9078135585,"6":3476.2223182046,"7":3842.4979768274,"8":4046.2680899112,"9":4597.9607277843,"10":4630.7124527234,"11":4961.9982026577,"12":5083.4080535881,"13":5566.6590345869,"14":5568.0898044102,"15":5547.9216716105,"16":5776.8447489348,"17":5844.0016777824,"18":6366.647407409,"19":6097.7864986507,"20":7085.0835592119,"21":6518.6342048435,"22":7014.3572804669,"23":7552.4426644593,"24":7054.4908026447,"25":7856.9660673704,"26":8143.426880145,"27":8617.7948031777,"28":8470.0987270237,"29":8313.5522803877,"30":7890.8387877372,"31":8893.1144768717,"32":8812.1757331276,"33":8334.2280379364,"34":8232.6127131037,"35":8083.3101028881,"36":9361.1248819109,"37":8886.5121815908,"38":7989.2937790602,"39":7474.8514236333,"40":8473.7012405867,"41":9667.171414446,"42":10161.770595106,"43":10373.4294720353,"44":11113.5095030555,"45":11577.1998329295,"46":11948.7290336493,"47":13388.4543383754,"48":12530.3703091612,"49":13371.1287668615},"interest_rate":{"0":0.0,"1":0.02,"2":0.02,"3":0.0508923588,"4":0.0030068001,"5":0.02,"6":0.02,"7":0.2785279642,"8":0.02,"9":0.0018092049,"10":0.02,"11":0.3582351313,"12":0.1185666268,"13":0.0,"14":0.0,"15":0.1073687524,"16":0.02,"17":0.0,"18":0.1080481931,"19":0.1111022716,"20":0.249845355,"21":0.1894529272,"22":0.0,"23":0.0,"24":0.0472258355,"25":0.0582954713,"26":0.041315841,"27":0.02,"28":0.0,"29":0.0482753428,"30":0.0,"31":0.0,"32":0.0,"33":0.0,"34":0.0,"35":0.0135973006,"36":0.1945546827,"37":0.010816708,"38":0.0,"39":0.0096976,"40":0.8695143298,"41":0.0,"42":0.0123946074,"43":0.0,"44":0.02,"45":0.02,"46":0.0184903442,"47":0.02,"48":0.0288121302,"49":0.0},"asset_i":{"0":0.0,"1":2.3747592335,"2":2.4717498148,"3":2.4300200603,"4":2.7273419178,"5":3.0277787037,"6":3.0918465689,"7":2.835655394,"8":3.0401674721,"9":3.4319480564,"10":2.650914671,"11":3.711851174,"12":3.0741970167,"13":3.40755763,"14":2.8169084037,"15":3.5216284229,"16":3.3922033816,"17":3.7329486958,"18":3.8701136539,"19":3.7092306106,"20":4.0476584742,"21":4.3080907992,"22":3.8186269876,"23":4.5348849837,"24":4.078616563,"25":4.7426981499,"26":3.1216159976,"27":4.7564693342,"28":4.3595369104,"29":4.5740938398,"30":3.8977155616,"31":4.0316804541,"32":4.0429534871,"33":4.1068453445,"34":5.3370621658,"35":4.2662669727,"36":4.7560917995,"37":4.6329618997,"38":3.7044260977,"39":3.364756776,"40":4.5943649509,"41":5.0156405598,"42":3.9369010475,"43":5.0991186358,"44":5.0612920244,"45":4.9118735165,"46":5.4280544364,"47":5.8260750754,"48":4.6848014072,"49":6.2778197195},"asset_j":{"0":0.0,"1":3.8857346664,"2":4.0504247279,"3":4.413407627,"4":4.6649336264,"5":4.9399236828,"6":4.8910215201,"7":4.8775853893,"8":5.067021995,"9":5.2061825904,"10":5.4336074898,"11":5.5070909286,"12":5.6892308658,"13":5.839838068,"14":6.0498810277,"15":6.082808224,"16":6.0748304329,"17":6.1956998047,"18":6.2396708933,"19":6.4234083895,"20":6.2982150919,"21":6.8577558186,"22":6.4951165751,"23":6.7664000395,"24":7.0179625733,"25":6.7952923838,"26":7.0776488019,"27":7.3348813747,"28":7.5645243224,"29":7.4983306662,"30":7.3380546076,"31":7.1469091396,"32":7.6273959611,"33":7.5893249353,"34":7.3971341821,"35":7.3063907805,"36":7.1960300688,"37":7.8423759008,"38":7.5799782257,"39":7.186346845,"40":6.9673302343,"41":7.4664584582,"42":8.016049587,"43":8.3217022115,"44":8.4265083032,"45":8.807485154,"46":8.9879813818,"47":9.2283108945,"48":9.9133542844,"49":9.4402852773},"equity":{"0":735.5046480856,"1":731.800447007,"2":713.6810969022,"3":708.9879856433,"4":703.2560564406,"5":698.220285776,"6":679.1523684354,"7":696.187042588,"8":668.1084046172,"9":670.7354216537,"10":670.7354216537,"11":671.5655169125,"12":663.2688361812,"13":661.6411460493,"14":654.2707416115,"15":644.8108816001,"16":659.3228797372,"17":652.8613495421,"18":652.8613495421,"19":668.7428622134,"20":680.4459017684,"21":679.4771128788,"22":679.4771128788,"23":681.5832037016,"24":681.5832037016,"25":690.8675137929,"26":685.2218308997,"27":681.3993882597,"28":676.1570520537,"29":656.8579051563,"30":645.7918501964,"31":660.3177701703,"32":672.0127494859,"33":667.7605491919,"34":663.005966376,"35":665.0442771773,"36":654.4727789255,"37":654.9720623514,"38":654.9720623514,"39":661.6564508808,"40":668.6768344601,"41":668.6768344601,"42":652.063727251,"43":645.6622575125,"44":629.8618275611,"45":631.6879554413,"46":658.5659897536,"47":665.9363785581,"48":680.7587974616,"49":681.8389507429},"equity_borrowers":{"0":0.0,"1":14.8834675476,"2":14.8741586012,"3":0.0,"4":0.0,"5":0.0,"6":0.0,"7":0.0,"8":0.0,"9":0.0,"10":0.0,"11":7.6742935634,"12":0.0,"13":0.0,"14":0.0,"15":-1.4296265537,"16":0.0,"17":0.0,"18":13.8668289786,"19":0.9509946955,"20":0.0,"21":0.0,"22":0.0,"23":0.0,"24":0.0,"25":14.5874551034,"26":-0.1043092951,"27":0.0,"28":0.0,"29":0.0,"30":0.0,"31":0.0,"32":0.0,"33":0.0,"34":0.0,"35":10.0593716529,"36":9.4523059149,"37":9.2373981905,"38":0.0,"39":0.0,"40":0.0,"41":0.0,"42":0.0,"43":0.0,"44":0.0,"45":14.8972311281,"46":0.0,"47":0.0,"48":14.9548073644,"49":0.0},"bankruptcies":{"0":2,"1":5,"2":9,"3":5,"4":4,"5":9,"6":9,"7":7,"8":2,"9":4,"10":2,"11":5,"12":6,"13":6,"14":3,"15":4,"16":4,"17":3,"18":3,"19":5,"20":5,"21":4,"22":3,"23":1,"24":3,"25":5,"26":3,"27":4,"28":0,"29":3,"30":0,"31":4,"32":1,"33":2,"34":4,"35":1,"36":3,"37":3,"38":2,"39":7,"40":9,"41":3,"42":3,"43":2,"44":2,"45":2,"46":5,"47":3,"48":4,"49":4},"potential_credit_channels":{"0":20,"1":20,"2":20,"3":20,"4":20,"5":20,"6":20,"7":20,"8":20,"9":20,"10":20,"11":20,"12":20,"13":20,"14":20,"15":20,"16":20,"17":20,"18":20,"19":20,"20":20,"21":20,"22":20,"23":20,"24":20,"25":20,"26":20,"27":20,"28":20,"29":20,"30":20,"31":20,"32":20,"33":20,"34":20,"35":20,"36":20,"37":20,"38":20,"39":20,"40":20,"41":20,"42":20,"43":20,"44":20,"45":20,"46":20,"47":20,"48":20,"49":20},"prob_change_lender":{"0":0.0,"1":0.0,"2":0.0,"3":0.0,"4":0.0,"5":0.0,"6":0.0,"7":0.0,"8":0.0,"9":0.0,"10":0.0,"11":0.0,"12":0.0,"13":0.0,"14":0.0,"15":0.0,"16":0.0,"17":0.0,"18":0.0,"19":0.0,"20":0.0,"21":0.0,"22":0.0,"23":0.0,"24":0.0,"25":0.0,"26":0.0,"27":0.0,"28":0.0,"29":0.0,"30":0.0,"31":0.0,"32":0.0,"33":0.0,"34":0.0,"35":0.0,"36":0.0,"37":0.0,"38":0.0,"39":0.0,"40":0.0,"41":0.0,"42":0.0,"43":0.0,"44":0.0,"45":0.0,"46":0.0,"47":0.0,"48":0.0,"49":0.0},"best_lender":{"0":7,"1":7,"2":7,"3":7,"4":7,"5":7,"6":7,"7":7,"8":7,"9":7,"10":7,"11":7,"12":7,"13":7,"14":7,"15":7,"16":7,"17":7,"18":7,"19":7,"20":7,"21":7,"22":7,"23":7,"24":7,"25":7,"26":7,"27":7,"28":7,"29":7,"30":7,"31":7,"32":7,"33":7,"34":7,"35":7,"36":7,"37":7,"38":7,"39":7,"40":7,"41":7,"42":7,"43":7,"44":7,"45":7,"46":7,"47":7,"48":7,"49":7},"policy":{"0":1.0,"1":1.0,"2":1.0,"3":1.0,"4":1.0,"5":1.0,"6":1.0,"7":1.0,"8":1.0,"9":1.0,"10":1.0,"11":1.0,"12":1.0,"13":1.0,"14":1.0,"15":1.0,"16":1.0,"17":1.0,"18":1.0,"19":1.0,"20":1.0,"21":1.0,"22":1.0,"23":1.0,"24":1.0,"25":1.0,"26":1.0,"27":1.0,"28":1.0,"29":1.0,"30":1.0,"31":1.0,"32":1.0,"33":1.0,"34":1.0,"35":1.0,"36":1.0,"37":1.0,"38":1.0,"39":1.0,"40":1.0,"41":1.0,"42":1.0,"43":1.0,"44":1.0,"45":1.0,"46":1.0,"47":1.0,"48":1.0,"49":1.0},"fitness":{"0":0.0,"1":0.3001149764,"2":0.2210430085,"3":0.2004818315,"4":0.1654033834,"5":0.1143204399,"6":0.1107779653,"7":0.1300484777,"8":0.0859068143,"9":0.0790274938,"10":0.07058153,"11":0.0781718157,"12":0.0711584746,"13":0.0760792255,"14":0.0958725213,"15":0.087709791,"16":0.177293608,"17":0.1875210157,"18":0.1560081253,"19":0.1101636279,"20":0.1234195273,"21":0.1515092424,"22":0.1522340359,"23":0.1832887343,"24":0.1725048724,"25":0.1329222933,"26":0.1025303679,"27":0.0904455058,"28":0.1267406659,"29":0.1469887666,"30":0.1181910652,"31":0.1682747416,"32":0.1919654711,"33":0.1990929719,"34":0.196967768,"35":0.1848879006,"36":0.1987830039,"37":0.1695608999,"38":0.1360971294,"39":0.1749586941,"40":0.1854116106,"41":0.2139255448,"42":0.1916418421,"43":0.1751589017,"44":0.1855204546,"45":0.1360267034,"46":0.1377834367,"47":0.1232500038,"48":0.1243532579,"49":0.1761981798},"best_lender_clients":{"0":2,"1":2,"2":2,"3":2,"4":2,"5":2,"6":2,"7":2,"8":2,"9":2,"10":2,"11":2,"12":2,"13":2,"14":2,"15":2,"16":2,"17":2,"18":2,"19":2,"20":2,"21":2,"22":2,"23":2,"24":2,"25":2,"26":2,"27":2,"28":2,"29":2,"30":2,"31":2,"32":2,"33":2,"34":2,"35":2,"36":2,"37":2,"38":2,"39":2,"40":2,"41":2,"42":2,"43":2,"44":2,"45":2,"46":2,"47":2,"48":2,"49":2},"rationing":{"0":23.3619380212,"1":81.8784905781,"2":143.9921499586,"3":1.8857640953,"4":41.040002199,"5":84.0026102653,"6":128.6964370177,"7":118.4281439964,"8":15.0898209287,"9":50.6070555433,"10":0.0,"11":49.1595733754,"12":68.2018128831,"13":109.2142936916,"14":59.2107120364,"15":21.1514703203,"16":35.2667667812,"17":33.8275873371,"18":43.3581770774,"19":72.7292265861,"20":33.2145318799,"21":21.9992657556,"22":56.5527427501,"23":18.8822757067,"24":13.4274254071,"25":53.8591282408,"26":49.0433693309,"27":57.597901408,"28":1.7950233581,"29":55.191690571,"30":4.2678498418,"31":41.6547349933,"32":16.0687214443,"33":32.0684337243,"34":51.2185588763,"35":21.0242804383,"36":20.5707141847,"37":32.4062320833,"38":26.4022456543,"39":52.1135178408,"40":83.8392005482,"41":32.057649872,"42":18.3382989359,"43":41.8710447522,"44":21.0378653583,"45":30.4363655958,"46":26.8712719017,"47":17.4489880205,"48":28.2726119388,"49":56.7391688851},"leverage":{"0":0.0,"1":0.3914828718,"2":0.0312923463,"3":0.0,"4":0.0,"5":0.0,"6":0.0,"7":0.0,"8":0.0,"9":0.0,"10":0.0,"11":0.9115584501,"12":0.0,"13":0.0,"14":0.0,"15":-12.3313407468,"16":0.0,"17":0.0,"18":0.756311653,"19":11.6179807737,"20":0.0,"21":0.0,"22":0.0,"23":0.0,"24":0.0,"25":0.4362827662,"26":-95.4117616307,"27":0.0,"28":0.0,"29":0.0,"30":0.0,"31":0.0,"32":0.0,"33":0.0,"34":0.0,"35":1.6336070627,"36":1.299612027,"37":1.163248135,"38":0.0,"39":0.0,"40":0.0,"41":0.0,"42":0.0,"43":0.0,"44":0.0,"45":0.3449260839,"46":0.0,"47":0.0,"48":0.1510973513,"49":0.0},"systemic_leverage":{"0":0.0,"1":0.0078296574,"2":0.0006258469,"3":0.0,"4":0.0,"5":0.0,"6":0.0,"7":0.0,"8":0.0,"9":0.0,"10":0.0,"11":0.018231169,"12":0.0,"13":0.0,"14":0.0,"15":-0.2466268149,"16":0.0,"17":0.0,"18":0.0151262331,"19":0.2323596155,"20":0.0,"21":0.0,"22":0.0,"23":0.0,"24":0.0,"25":0.0087256553,"26":-1.9082352326,"27":0.0,"28":0.0,"29":0.0,"30":0.0,"31":0.0,"32":0.0,"33":0.0,"34":0.0,"35":0.0326721413,"36":0.0259922405,"37":0.0232649627,"38":0.0,"39":0.0,"40":0.0,"41":0.0,"42":0.0,"43":0.0,"44":0.0,"45":0.0068985217,"46":0.0,"47":0.0,"48":0.003021947,"49":0.0},"loans":{"0":null,"1":5.8266226184,"2":9.3086955866,"3":10.0216137883,"4":13.9521154942,"5":4.7708536599,"6":26.0927911806,"7":9.3004487019,"8":14.4450690314,"9":19.8221281598,"10":17.4528560561,"11":6.9955671464,"12":4.5397422743,"13":null,"14":null,"15":10.065019618,"16":16.6812020421,"17":null,"18":10.487644347,"19":11.0486380887,"20":11.8313917716,"21":19.5537265395,"22":null,"23":null,"24":18.0211036394,"25":13.3267868807,"26":9.952333598,"27":null,"28":null,"29":19.5607308041,"30":null,"31":null,"32":null,"33":null,"34":null,"35":16.4330605784,"36":10.9454115732,"37":16.1513981885,"38":null,"39":14.286113266,"40":18.8798277872,"41":null,"42":11.33848976,"43":null,"44":8.1421068768,"45":5.1384435939,"46":13.9408100877,"47":14.796679333,"48":5.4068394683,"49":null},"reserves":{"0":138.5390070659,"1":146.2437746141,"2":160.7629088565,"3":167.5691129296,"4":177.0818254667,"5":174.4823444972,"6":173.1103923452,"7":182.836946381,"8":186.3144003154,"9":197.6983067014,"10":196.854223117,"11":202.8149779685,"12":206.5861000954,"13":215.5071924023,"14":214.8256912754,"15":215.0882622969,"16":218.1485860424,"17":219.9576381853,"18":230.5495018364,"19":226.5586607334,"20":247.6965361269,"21":236.0179577978,"22":246.0192840388,"23":256.6671742607,"24":245.6969557148,"25":263.8464914145,"26":269.0692087256,"27":277.7256354984,"28":274.0276593927,"29":270.6090959275,"30":261.5437709085,"31":283.8519076126,"32":281.9613395997,"33":272.3735096261,"34":269.6944679323,"35":266.760065748,"36":292.9928661142,"37":283.4921967067,"38":264.2361093234,"39":254.0852915896,"40":275.4384047624,"41":299.3413941792,"42":308.8011994691,"43":313.3754358588,"44":328.0465946593,"45":338.3957572768,"46":346.1573873856,"47":375.7570986285,"48":357.9374035367,"49":375.0962656161},"deposits":{"0":6926.950353294,"1":7312.1887307025,"2":8038.1454428272,"3":8378.4556464807,"4":8854.0912733353,"5":8724.1172248613,"6":8655.5196172604,"7":9141.8473190496,"8":9315.7200157685,"9":9884.915335068,"10":9842.7111558493,"11":10140.7488984255,"12":10329.3050047686,"13":10775.3596201169,"14":10741.2845637701,"15":10754.4131148445,"16":10907.4293021178,"17":10997.8819092647,"18":11527.4750918223,"19":11327.9330366677,"20":12384.8268063466,"21":11800.8978898923,"22":12300.9642019395,"23":12833.3587130366,"24":12284.8477857411,"25":13192.3245707247,"26":13453.460436281,"27":13886.2817749207,"28":13701.3829696345,"29":13530.454796375,"30":13077.1885454265,"31":14192.5953806293,"32":14098.0669799854,"33":13618.675481304,"34":13484.7233966162,"35":13338.0032873976,"36":14649.6433057085,"37":14174.6098353341,"38":13211.8054661686,"39":12704.2645794788,"40":13771.9202381189,"41":14967.0697089598,"42":15440.0599734563,"43":15668.7717929424,"44":16402.3297329666,"45":16919.7878638409,"46":17307.8693692807,"47":18787.8549314247,"48":17896.8701768359,"49":18754.8132808032},"active_lenders":{"0":0,"1":1,"2":3,"3":3,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":0,"14":0,"15":2,"16":1,"17":0,"18":1,"19":1,"20":2,"21":2,"22":0,"23":0,"24":1,"25":2,"26":1,"27":0,"28":0,"29":1,"30":0,"31":0,"32":0,"33":0,"34":0,"35":1,"36":2,"37":2,"38":0,"39":2,"40":2,"41":0,"42":1,"43":0,"44":1,"45":1,"46":2,"47":1,"48":2,"49":0},"active_borrowers":{"0":0,"1":1,"2":3,"3":3,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":0,"14":0,"15":2,"16":1,"17":0,"18":1,"19":1,"20":2,"21":2,"22":0,"23":0,"24":1,"25":2,"26":1,"27":1,"28":0,"29":1,"30":0,"31":0,"32":0,"33":0,"34":0,"35":1,"36":2,"37":2,"38":0,"39":2,"40":2,"41":0,"42":1,"43":0,"44":1,"45":1,"46":2,"47":1,"48":2,"49":0},"prob_bankruptcy":{"0":0.0,"1":0.0,"2":0.3055343981,"3":0.061842121,"4":0.0083196297,"5":0.0083196297,"6":0.0083196297,"7":0.2902029203,"8":0.0083196297,"9":0.0083196297,"10":0.0083196297,"11":0.3269563517,"12":0.1431537544,"13":0.0,"14":0.0,"15":0.1431537544,"16":1.0816646763,"17":0.0,"18":0.1431537544,"19":0.1431537544,"20":0.8395210426,"21":0.2011413277,"22":0.0,"23":0.0,"24":0.0702385799,"25":0.0702385799,"26":0.9809783373,"27":2.5514211297,"28":0.0,"29":0.0,"30":0.0,"31":0.0,"32":0.0,"33":0.0,"34":0.0,"35":0.0275029931,"36":0.1925929999,"37":0.1944267742,"38":0.0,"39":0.0254594266,"40":0.7306375072,"41":0.0,"42":0.0328665739,"43":0.0,"44":0.0,"45":0.0,"46":0.0,"47":0.0,"48":0.0,"49":0.0},"num_banks":{"0":50,"1":50,"2":50,"3":50,"4":50,"5":50,"6":50,"7":50,"8":50,"9":50,"10":50,"11":50,"12":50,"13":50,"14":50,"15":50,"16":50,"17":50,"18":50,"19":50,"20":50,"21":50,"22":50,"23":50,"24":50,"25":50,"26":50,"27":50,"28":50,"29":50,"30":50,"31":50,"32":50,"33":50,"34":50,"35":50,"36":50,"37":50,"38":50,"39":50,"40":50,"41":50,"42":50,"43":50,"44":50,"45":50,"46":50,"47":50,"48":50,"49":50},"bankruptcy_rationed":{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0}}'

    def setUp(self):
        model = interbank.Model()
        model.config.lender_change = self.ALGORITHM()
        model.log.define_log('ERROR')
        model.config.lender_change.set_parameter("p", self.P)
        model.configure(N=self.N, T=self.T)
        model.initialize(seed=self.SEED)
        model.simulate_full()
        self.generated_now_values = model.finish()
        ## self.results.to_dict() and save the json to self.RESULTS_TO_COMPARE
        ## also        json.dumps(separators=(',', ':'), obj=self.results.to_json())

        # we also create a gdt file with a whole execution:
        model.configure(T=self.T_LONG)
        model.statistics.define_output_format('gdt')
        model.initialize(seed=self.SEED, output_directory='tests',
                         export_datafile='test_whole_execution_restrictedmarket')
        model.simulate_full(interactive=True)
        model.finish()
        os.remove('tests\\test_whole_execution_restrictedmarket_erdos_renyi.json')
        os.remove('tests\\test_whole_execution_restrictedmarket_erdos_renyi.png')

    def test_values_after_execution(self):
        self.assertEqual(self.generated_now_values.to_json(), self.RESULTS_TO_COMPARE)


if __name__ == '__main__':
    unittest.main()
