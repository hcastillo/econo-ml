# -*- coding: utf-8 -*-

import unittest
import interbank
import interbank_lenderchange
import os

class WholeExecution(unittest.TestCase):
    N = 50
    T = 50
    T_LONG = 1000

    maxDiff = None

    ALGORITHM = interbank_lenderchange.ShockedMarket
    P = 0.5

    SEED = 39393

    RESULTS_TO_COMPARE = '{"bad_debt":{"0":0.0,"1":42.972896824,"2":0.0,"3":1.3915872398,"4":47.2585861226,"5":1.4556639402,"6":16.240727065,"7":37.0552886917,"8":43.6925049674,"9":0.0,"10":29.0215480672,"11":14.6695351428,"12":10.7637330377,"13":18.3281364553,"14":14.9023300829,"15":20.8540002551,"16":17.4305867516,"17":14.1712567518,"18":1.034455847,"19":0.0,"20":6.1729418639,"21":45.3131719676,"22":60.3652222231,"23":13.9134752915,"24":35.6918942576,"25":70.3352408048,"26":0.4749900455,"27":43.6585032312,"28":35.3181586422,"29":30.0145206642,"30":7.2699434858,"31":6.9091441996,"32":17.6057402487,"33":0.0,"34":0.0,"35":11.8913034366,"36":22.4395515849,"37":0.0,"38":4.8347087237,"39":13.6381320068,"40":14.460723674,"41":21.5900867599,"42":19.3029879381,"43":38.7123191788,"44":5.7205398248,"45":18.9305553361,"46":17.1169664618,"47":8.9830488541,"48":11.0410914727,"49":15.6404172441},"liquidity":{"0":1715.337018572,"1":2381.2713776268,"2":2566.3229768307,"3":2910.8045640671,"4":2835.2944240592,"5":3118.6833792679,"6":3499.135908674,"7":3644.4474203428,"8":4171.7963950854,"9":4381.8276979838,"10":4535.4725640538,"11":4837.6463653745,"12":4994.9875811393,"13":5948.1346146404,"14":6371.2820686212,"15":7127.9547290692,"16":8028.391905246,"17":8463.9859433771,"18":8271.769223923,"19":10029.942986793,"20":9732.8962915082,"21":10188.439143763,"22":9795.707417358,"23":9336.2198615221,"24":8886.3415258145,"25":7846.1678130541,"26":7858.3691477421,"27":8054.4558524429,"28":9526.2160732121,"29":9816.2587363829,"30":10948.718651874,"31":12874.6645949201,"32":14138.1233200956,"33":12011.6792167563,"34":13060.9714514037,"35":13825.5512964633,"36":12595.8855551438,"37":11851.9178381822,"38":12227.3897710448,"39":12953.1605088824,"40":10989.6434349348,"41":10327.1176208408,"42":10757.2567046935,"43":11068.2041089499,"44":10212.3201195116,"45":10047.4201501903,"46":11439.1640110848,"47":11432.3045730772,"48":11655.1939883483,"49":11616.279105993},"interest_rate":{"0":0.0,"1":3.0494508934,"2":0.0,"3":18.1020498241,"4":3.8591733971,"5":19.1098972766,"6":33.4826759094,"7":0.1589423613,"8":2.9081468282,"9":0.0,"10":35.8409684778,"11":10.8980008843,"12":13.0827363786,"13":13.2217906904,"14":21.6318735283,"15":22.6318227651,"16":33.5112159801,"17":13.8387697482,"18":14.0252792266,"19":0.0,"20":8004.0698893188,"21":24.3021011388,"22":68.669114219,"23":462.8269138188,"24":35.025402272,"25":28.7228054092,"26":2113.0737631297,"27":15.5788996627,"28":67.09121771,"29":14.4108038261,"30":15.2271624609,"31":16.1783315092,"32":244.6537448284,"33":8.3881883889,"34":0.0,"35":16.3886176003,"36":3.0778968914,"37":0.0,"38":0.1836884249,"39":225.1905094525,"40":0.5880503654,"41":4.9388968027,"42":0.611304196,"43":119.5758618748,"44":12.9560876846,"45":166.9387747021,"46":15.7118435441,"47":16.203359603,"48":14.9078298174,"49":87.1002801441},"asset_i":{"0":0.0,"1":2.3212077727,"2":2.1569830933,"3":2.5277757153,"4":2.7805574068,"5":2.6644703807,"6":2.8003101817,"7":2.7195207176,"8":3.0986026482,"9":3.2623241484,"10":3.1470641673,"11":3.7731140219,"12":3.3059464389,"13":3.6247253238,"14":3.813674282,"15":4.5461747431,"16":4.4173952121,"17":3.189560426,"18":3.8876581473,"19":4.7090693321,"20":4.4048405341,"21":5.1371898003,"22":4.2607716852,"23":4.0052988931,"24":3.6403579607,"25":3.6487276888,"26":4.1266523128,"27":4.0045174981,"28":5.1560126025,"29":5.8090900497,"30":5.5113182339,"31":5.2600396828,"32":6.9877622233,"33":3.3159874906,"34":5.678113176,"35":5.6697971379,"36":4.5233922556,"37":4.3477997398,"38":7.6821655083,"39":5.714737369,"40":4.9993234922,"41":4.8708889102,"42":5.9938143542,"43":5.7156497759,"44":3.4947641972,"45":5.5730914584,"46":5.3472434877,"47":6.0157290688,"48":4.2823219272,"49":4.7044077545},"asset_j":{"0":0.0,"1":3.9480943011,"2":4.229981243,"3":4.4093907316,"4":4.5715279377,"5":4.4673404896,"6":4.6363199067,"7":4.8292760025,"8":4.9844548965,"9":5.2064219177,"10":5.3718849903,"11":5.472308764,"12":5.6833564869,"13":5.8454579747,"14":6.3251982718,"15":6.5568529657,"16":6.9544130169,"17":7.3777354722,"18":7.6213280248,"19":7.5754008251,"20":8.4327911228,"21":8.3133975432,"22":8.5238545063,"23":8.3143925483,"24":8.0784796091,"25":7.8566462119,"26":7.3519027888,"27":7.3530664343,"28":7.4868882674,"29":8.2329082328,"30":8.3555562463,"31":8.9162293487,"32":9.9516264722,"33":10.3233713453,"34":9.2779940736,"35":9.8602569593,"36":10.1834872667,"37":9.5539689213,"38":9.2977794779,"39":9.4238251646,"40":9.6975141894,"41":8.7035090625,"42":8.4730799008,"43":8.7336082301,"44":8.9152079826,"45":8.4381139125,"46":8.4449866899,"47":9.1755339221,"48":9.1157768167,"49":9.2444059202},"equity":{"0":710.6151281496,"1":688.5825041789,"2":680.6501912177,"3":695.2658594476,"4":703.6690457071,"5":668.9082180219,"6":660.3176840169,"7":651.8263104966,"8":645.6830277395,"9":638.6552292333,"10":628.0460989432,"11":604.5191874136,"12":588.1015571372,"13":603.4093091359,"14":624.1627316656,"15":602.3058162946,"16":597.4229534765,"17":575.6192584347,"18":589.6738228141,"19":574.1337297462,"20":576.3103864305,"21":562.7964650445,"22":564.2788565656,"23":571.6800875822,"24":558.8209360698,"25":561.89137118,"26":576.6175364537,"27":584.1477020879,"28":594.058741166,"29":587.9641485415,"30":561.861162552,"31":552.4455428876,"32":590.3189515639,"33":603.903679842,"34":605.1737922797,"35":617.4718060088,"36":604.2817186661,"37":601.6907384227,"38":604.2553206457,"39":630.4025045563,"40":634.8457047551,"41":644.5355467849,"42":633.1594754589,"43":630.9551309911,"44":590.5086596688,"45":652.6213529049,"46":628.4032809086,"47":640.3713091576,"48":635.0353868112,"49":648.1201660317},"equity_borrowers":{"0":0.0,"1":0.0,"2":0.0,"3":0.0,"4":0.0,"5":0.0,"6":0.0,"7":0.0,"8":0.0,"9":0.0,"10":0.0,"11":0.0,"12":0.0,"13":0.0,"14":0.0,"15":0.0,"16":0.0,"17":0.0,"18":0.0,"19":0.0,"20":0.0,"21":0.0,"22":0.0,"23":0.0,"24":0.0,"25":0.0,"26":0.0,"27":0.0,"28":0.0,"29":0.0,"30":0.0,"31":0.0,"32":0.0,"33":0.0,"34":0.0,"35":0.0,"36":0.0,"37":0.0,"38":0.0,"39":0.0,"40":0.0,"41":0.0,"42":0.0,"43":0.0,"44":0.0,"45":0.0,"46":0.0,"47":0.0,"48":0.0,"49":0.0},"bankruptcies":{"0":4,"1":10,"2":3,"3":7,"4":7,"5":2,"6":6,"7":5,"8":8,"9":8,"10":5,"11":4,"12":5,"13":6,"14":3,"15":4,"16":5,"17":4,"18":5,"19":3,"20":2,"21":6,"22":4,"23":5,"24":4,"25":6,"26":5,"27":6,"28":5,"29":2,"30":2,"31":3,"32":6,"33":3,"34":3,"35":3,"36":3,"37":3,"38":5,"39":2,"40":4,"41":5,"42":7,"43":5,"44":6,"45":5,"46":2,"47":2,"48":7,"49":4},"potential_credit_channels":{"0":20,"1":27,"2":28,"3":29,"4":20,"5":26,"6":20,"7":26,"8":23,"9":27,"10":25,"11":25,"12":24,"13":22,"14":25,"15":25,"16":26,"17":26,"18":28,"19":24,"20":21,"21":29,"22":24,"23":25,"24":23,"25":23,"26":24,"27":25,"28":26,"29":19,"30":23,"31":23,"32":31,"33":24,"34":25,"35":23,"36":27,"37":27,"38":21,"39":21,"40":25,"41":28,"42":29,"43":30,"44":22,"45":29,"46":29,"47":24,"48":25,"49":28},"prob_change_lender":{"0":0.0,"1":0.0,"2":0.0,"3":0.0,"4":0.0,"5":0.0,"6":0.0,"7":0.0,"8":0.0,"9":0.0,"10":0.0,"11":0.0,"12":0.0,"13":0.0,"14":0.0,"15":0.0,"16":0.0,"17":0.0,"18":0.0,"19":0.0,"20":0.0,"21":0.0,"22":0.0,"23":0.0,"24":0.0,"25":0.0,"26":0.0,"27":0.0,"28":0.0,"29":0.0,"30":0.0,"31":0.0,"32":0.0,"33":0.0,"34":0.0,"35":0.0,"36":0.0,"37":0.0,"38":0.0,"39":0.0,"40":0.0,"41":0.0,"42":0.0,"43":0.0,"44":0.0,"45":0.0,"46":0.0,"47":0.0,"48":0.0,"49":0.0},"best_lender":{"0":7,"1":24,"2":10,"3":31,"4":38,"5":37,"6":37,"7":2,"8":29,"9":27,"10":21,"11":33,"12":33,"13":32,"14":17,"15":29,"16":18,"17":10,"18":41,"19":15,"20":22,"21":48,"22":37,"23":5,"24":7,"25":44,"26":39,"27":44,"28":6,"29":23,"30":39,"31":37,"32":22,"33":32,"34":3,"35":35,"36":26,"37":45,"38":45,"39":4,"40":24,"41":25,"42":24,"43":16,"44":16,"45":16,"46":49,"47":49,"48":8,"49":32},"policy":{"0":1.0,"1":1.0,"2":1.0,"3":1.0,"4":1.0,"5":1.0,"6":1.0,"7":1.0,"8":1.0,"9":1.0,"10":1.0,"11":1.0,"12":1.0,"13":1.0,"14":1.0,"15":1.0,"16":1.0,"17":1.0,"18":1.0,"19":1.0,"20":1.0,"21":1.0,"22":1.0,"23":1.0,"24":1.0,"25":1.0,"26":1.0,"27":1.0,"28":1.0,"29":1.0,"30":1.0,"31":1.0,"32":1.0,"33":1.0,"34":1.0,"35":1.0,"36":1.0,"37":1.0,"38":1.0,"39":1.0,"40":1.0,"41":1.0,"42":1.0,"43":1.0,"44":1.0,"45":1.0,"46":1.0,"47":1.0,"48":1.0,"49":1.0},"fitness":{"0":0.0,"1":0.2778484521,"2":0.2231555632,"3":0.225433626,"4":0.1622403702,"5":0.1592542965,"6":0.1127675223,"7":0.1945837539,"8":0.1890373683,"9":0.1976545495,"10":0.1499909627,"11":0.1177815721,"12":0.0778949372,"13":0.0925741725,"14":0.0957030738,"15":0.0899198327,"16":0.0695763284,"17":0.0730339389,"18":0.0805097639,"19":0.1172576823,"20":0.1244026126,"21":0.1003768611,"22":0.1115493693,"23":0.1004288302,"24":0.1104295912,"25":0.0923523326,"26":0.1393744479,"27":0.1107848483,"28":0.131194617,"29":0.1036159152,"30":0.1092831925,"31":0.0877805627,"32":0.0802774459,"33":0.0725580356,"34":0.0893393848,"35":0.0799644413,"36":0.0620741536,"37":0.081086024,"38":0.1171656599,"39":0.1145576368,"40":0.0848990952,"41":0.1157248982,"42":0.0936326856,"43":0.0717507315,"44":0.0542169972,"45":0.0584565249,"46":0.0728203468,"47":0.0666403702,"48":0.0572779456,"49":0.0588603318},"best_lender_clients":{"0":2,"1":3,"2":4,"3":3,"4":4,"5":3,"6":3,"7":4,"8":3,"9":4,"10":4,"11":5,"12":4,"13":4,"14":3,"15":3,"16":3,"17":4,"18":4,"19":3,"20":4,"21":4,"22":5,"23":5,"24":4,"25":4,"26":4,"27":4,"28":6,"29":4,"30":3,"31":3,"32":4,"33":4,"34":3,"35":4,"36":3,"37":4,"38":4,"39":4,"40":4,"41":3,"42":5,"43":4,"44":4,"45":4,"46":3,"47":3,"48":4,"49":4},"rationing":{"0":13.8894014739,"1":6.6299288651,"2":0.0,"3":8.5072427131,"4":0.0,"5":0.0,"6":0.0,"7":0.0,"8":5.6262381962,"9":3.9199281699,"10":8.623959658,"11":18.7399828778,"12":5.081613179,"13":1.7403919449,"14":0.0,"15":2.7919599553,"16":2.6893750331,"17":5.5094268717,"18":0.0,"19":9.7258888998,"20":9.4584126442,"21":0.0,"22":8.6402026364,"23":3.2348955051,"24":0.0,"25":0.0,"26":4.1024894273,"27":0.0,"28":0.0,"29":0.0,"30":4.2873178352,"31":8.1053773778,"32":0.0,"33":0.0,"34":1.3197649221,"35":0.0,"36":3.9565402612,"37":0.0,"38":0.0,"39":0.0,"40":0.0,"41":0.0,"42":0.0,"43":0.0,"44":9.3016879743,"45":2.3530462693,"46":0.0,"47":0.0,"48":0.0,"49":0.0},"leverage":{"0":0.0,"1":0.5270484018,"2":0.0,"3":0.0,"4":0.4018305394,"5":0.570622851,"6":0.9817931687,"7":0.0,"8":0.2445695052,"9":0.0,"10":0.0,"11":2.6537071282,"12":0.0,"13":0.0,"14":0.0,"15":0.0,"16":0.0,"17":0.0,"18":0.0,"19":0.0,"20":0.0,"21":0.0,"22":0.0,"23":0.0,"24":0.0,"25":0.0,"26":0.0,"27":0.0,"28":0.0,"29":0.0,"30":0.0,"31":0.0,"32":0.0,"33":0.0050371697,"34":0.0,"35":0.0,"36":0.0,"37":0.0,"38":0.0,"39":0.5353471474,"40":0.1663945662,"41":0.0,"42":0.3571047322,"43":0.0,"44":0.0,"45":0.0,"46":0.0,"47":0.0,"48":0.0,"49":0.0},"systemic_leverage":{"0":0.0,"1":0.010540968,"2":0.0,"3":0.0,"4":0.0080366108,"5":0.011412457,"6":0.0196358634,"7":0.0,"8":0.0048913901,"9":0.0,"10":0.0,"11":0.0530741426,"12":0.0,"13":0.0,"14":0.0,"15":0.0,"16":0.0,"17":0.0,"18":0.0,"19":0.0,"20":0.0,"21":0.0,"22":0.0,"23":0.0,"24":0.0,"25":0.0,"26":0.0,"27":0.0,"28":0.0,"29":0.0,"30":0.0,"31":0.0,"32":0.0,"33":0.0001007434,"34":0.0,"35":0.0,"36":0.0,"37":0.0,"38":0.0,"39":0.0214138859,"40":0.0033278913,"41":0.0,"42":0.0071420946,"43":0.0,"44":0.0,"45":0.0,"46":0.0,"47":0.0,"48":0.0,"49":0.0},"loans":{"0":null,"1":9.1218783052,"2":null,"3":0.6957936199,"4":17.3504935054,"5":4.9592128999,"6":14.9590944417,"7":18.5276443459,"8":11.8357976545,"9":null,"10":14.5107740336,"11":14.5370697795,"12":10.7637330377,"13":6.1093788184,"14":4.967443361,"15":6.9513334184,"16":8.7152933758,"17":14.1712567518,"18":1.034455847,"19":null,"20":6.1729418639,"21":15.1043906559,"22":20.121740741,"23":6.9567376458,"24":11.8972980859,"25":14.067048161,"26":0.4749900455,"27":21.8292516156,"28":8.8295396606,"29":30.0145206642,"30":7.2699434858,"31":6.9091441996,"32":5.8685800829,"33":0.064096218,"34":null,"35":11.8913034366,"36":7.4798505283,"37":null,"38":4.8347087237,"39":9.8042725146,"40":5.6313656747,"41":10.79504338,"42":7.9022174994,"43":12.9041063929,"44":5.7205398248,"45":12.2993901486,"46":8.5584832309,"47":8.9830488541,"48":5.5205457364,"49":15.6404172441},"reserves":{"0":141.2072219777,"1":155.0647287472,"2":157.2051791411,"3":164.1518999485,"4":162.5982836809,"5":166.6384238078,"6":173.7148463296,"7":176.8807333641,"8":189.0765978557,"9":193.282952442,"10":196.1456048808,"11":201.7493658427,"12":203.746686542,"13":224.0113508349,"14":234.1296993643,"15":249.9678520759,"16":269.520075987,"17":278.4916557342,"18":274.7824127022,"19":309.8431519697,"20":303.7523086095,"21":313.5595910366,"22":305.0564984791,"23":295.5269405123,"24":285.1310447066,"25":263.0822518998,"26":263.3234101204,"27":266.5834270083,"28":296.7849853568,"29":301.4074956077,"30":323.385648413,"31":363.0492660532,"32":390.6690157131,"33":347.0115940952,"34":369.0022207651,"35":385.2556198948,"36":360.8264439579,"37":345.4099531141,"38":352.1709588539,"39":366.9661862706,"40":326.8114028091,"41":314.2659485068,"42":322.9231967125,"43":329.1032907423,"44":310.0669341448,"45":306.9938952346,"46":335.2715385654,"47":337.0595300933,"48":341.7174693555,"49":340.6666488692},"deposits":{"0":7060.3610988836,"1":7753.2364373609,"2":7860.2589570544,"3":8207.5949974252,"4":8129.9141840448,"5":8331.9211903903,"6":8685.7423164791,"7":8844.0366682057,"8":9453.8298927866,"9":9664.1476221014,"10":9807.2802440397,"11":10087.4682921371,"12":10187.3343270981,"13":11200.567541744,"14":11706.4849682148,"15":12498.3926037956,"16":13476.0037993481,"17":13924.5827867086,"18":13739.1206351111,"19":15492.1575984863,"20":15187.6154304732,"21":15677.9795518279,"22":15252.8249239554,"23":14776.3470256139,"24":14256.5522353318,"25":13154.1125949894,"26":13166.1705060183,"27":13329.1713504141,"28":14839.2492678378,"29":15070.3747803829,"30":16169.2824206502,"31":18152.463302662,"32":19533.4507856538,"33":17350.5797047621,"34":18450.1110382571,"35":19262.7809947401,"36":18041.3221978938,"37":17270.4976557026,"38":17608.5479426941,"39":18348.3093135321,"40":16340.5701404544,"41":15713.2974253415,"42":16146.159835626,"43":16455.1645371154,"44":15503.3467072406,"45":15349.6947617298,"46":16763.57692827,"47":16852.976504663,"48":17085.8734677735,"49":17033.3324434584},"active_lenders":{"0":0,"1":5,"2":0,"3":2,"4":3,"5":2,"6":2,"7":2,"8":4,"9":0,"10":2,"11":2,"12":1,"13":3,"14":3,"15":3,"16":2,"17":1,"18":1,"19":0,"20":1,"21":3,"22":3,"23":2,"24":3,"25":5,"26":1,"27":2,"28":4,"29":1,"30":1,"31":1,"32":3,"33":1,"34":0,"35":1,"36":3,"37":0,"38":1,"39":3,"40":3,"41":2,"42":3,"43":3,"44":1,"45":2,"46":2,"47":1,"48":2,"49":1},"active_borrowers":{"0":0,"1":5,"2":0,"3":2,"4":4,"5":2,"6":2,"7":2,"8":5,"9":0,"10":2,"11":2,"12":1,"13":3,"14":3,"15":3,"16":2,"17":1,"18":1,"19":0,"20":1,"21":4,"22":3,"23":2,"24":3,"25":5,"26":1,"27":2,"28":4,"29":1,"30":1,"31":1,"32":3,"33":1,"34":0,"35":1,"36":3,"37":0,"38":1,"39":3,"40":3,"41":2,"42":3,"43":3,"44":1,"45":2,"46":2,"47":1,"48":2,"49":1},"prob_bankruptcy":{"0":0.0,"1":0.1702764889,"2":0.0,"3":0.1731369113,"4":0.0462654515,"5":0.1790154523,"6":0.2520530248,"7":0.0463901289,"8":0.0458194537,"9":0.0,"10":0.2930035682,"11":0.1081112747,"12":0.6523675023,"13":0.1722822356,"14":0.2325648102,"15":0.1952184613,"16":0.3012194901,"17":0.1722822356,"18":0.1722822356,"19":0.0,"20":0.9913762643,"21":0.2297014288,"22":0.3524559165,"23":0.5503107847,"24":0.2858256498,"25":0.2473961946,"26":0.9681768038,"27":0.1722822356,"28":0.3206576458,"29":0.1722822356,"30":0.1722822356,"31":0.1984927489,"32":0.5612615638,"33":0.1158466387,"34":0.0,"35":0.1996658891,"36":0.0346031164,"37":0.0,"38":0.0,"39":0.3023383214,"40":0.0251801904,"41":0.0227453203,"42":0.1686510772,"43":0.3727407656,"44":0.0017810797,"45":0.4135341289,"46":0.1765034641,"47":0.2007020433,"48":0.1765034641,"49":0.540542978},"num_banks":{"0":50,"1":50,"2":50,"3":50,"4":50,"5":50,"6":50,"7":50,"8":50,"9":50,"10":50,"11":50,"12":50,"13":50,"14":50,"15":50,"16":50,"17":50,"18":50,"19":50,"20":50,"21":50,"22":50,"23":50,"24":50,"25":50,"26":50,"27":50,"28":50,"29":50,"30":50,"31":50,"32":50,"33":50,"34":50,"35":50,"36":50,"37":50,"38":50,"39":50,"40":50,"41":50,"42":50,"43":50,"44":50,"45":50,"46":50,"47":50,"48":50,"49":50},"bankruptcy_rationed":{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0}}'


    def setUp(self):
        model = interbank.Model()
        model.config.lender_change = self.ALGORITHM()
        model.log.define_log('ERROR')
        model.config.lender_change.set_parameter("p", self.P)
        model.configure(N=self.N, T=self.T)
        model.initialize(seed=self.SEED)
        model.simulate_full()
        self.generated_now_values = model.finish()
        ## self.results.to_dict() and save the json to self.RESULTS_TO_COMPARE
        ## also        json.dumps(separators=(',', ':'), obj=self.results.to_json())

        # we also create a gdt file with a whole execution:
        model.configure(T=self.T_LONG)
        model.statistics.define_output_format('gdt')
        model.initialize(seed=self.SEED, output_directory='tests',
                         export_datafile='test_whole_execution_shockedmarket')
        model.simulate_full(interactive=True)
        model.finish()
        os.remove('tests\\test_whole_execution_shockedmarket_erdos_renyi.json')
        os.remove('tests\\test_whole_execution_shockedmarket_erdos_renyi.png')

    def test_values_after_execution(self):
        self.assertEqual(self.generated_now_values.to_json(), self.RESULTS_TO_COMPARE)


if __name__ == '__main__':
    unittest.main()
